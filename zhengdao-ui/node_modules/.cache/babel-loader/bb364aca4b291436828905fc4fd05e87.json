{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\n\nvar t = /*#__PURE__*/function () {\n  function t() {\n    _classCallCheck(this, t);\n\n    this.__map = {};\n  }\n\n  _createClass(t, [{\n    key: \"beforeEach\",\n    value: function beforeEach(_t) {\n      this.__interceptor = _t;\n    }\n  }, {\n    key: \"on\",\n    value: function on(_t2, i) {\n      var s = Array.isArray(_t2) ? _t2 : [_t2];\n\n      var _iterator = _createForOfIteratorHelper(s),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _t9 = _step.value;\n          this.__map[_t9] = this.__map[_t9] || [];\n          var _s = this.__map[_t9];\n          _s && _s.push(i);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(_t4, i, s) {\n      var _this = this;\n\n      void 0 !== this.__interceptor ? this.__interceptor(_t4, function () {\n        _this.__emit(_t4, i), s && s();\n      }) : (this.__emit(_t4, i), s && s());\n    }\n  }, {\n    key: \"__emit\",\n    value: function __emit(_t5, i) {\n      var s = this.__map[_t5];\n\n      if (Array.isArray(s) && (null == s ? void 0 : s.length)) {\n        var _iterator2 = _createForOfIteratorHelper(s),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _ = _step2.value;\n\n            _(i, _t5);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n\n      this.event = i;\n    }\n  }, {\n    key: \"off\",\n    value: function off(_t6, i) {\n      var s = this.__map[_t6];\n      if (void 0 !== s) if (void 0 === i) delete this.__map[_t6];else {\n        var _t10 = s.findIndex(function (_t8) {\n          return _t8 === i;\n        });\n\n        s.splice(_t10, 1);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.__map = {};\n    }\n  }]);\n\n  return t;\n}();\n\nexport { t as default };","map":{"version":3,"mappings":";;;;;;;IA2BqBA,C;EAArBC;IAAAA;;IAEYC,aAAkD,EAAlDA;EAaRC;;;;WAAAA,oBAAWC,EAAXD,EAAWC;MACPF,KAAKG,aAALH,GAAqBE,EAArBF;IAQJI;;;WAAAA,YAAsCC,GAAtCD,EAAgEE,CAAhEF,EAAgEE;MAC5D,IAAMC,IAAQC,MAAMC,OAAND,CAAcH,GAAdG,IAA6BH,GAA7BG,GAA2C,CAACH,GAAD,CAAzD;;MAD4DC,2CAEzCC,CAFyCD;MAAAA;;MAAAA;QAE5D,oDAA0B;UAAA,IAAfI,GAAe;UACtBV,KAAKW,KAALX,CAAWU,GAAXV,IAAmBA,KAAKW,KAALX,CAAWU,GAAXV,KAAoB,EAAvCA;UACA,IAAMY,KAAYZ,KAAKW,KAALX,CAAWU,GAAXV,CAAlB;UACIY,MACAA,GAAUC,IAAVD,CAAeN,CAAfM,CADAA;QAIR;MAT4DN;QAAAA;MAAAA;QAAAA;MAAAA;;MAS5D,OAAON,IAAP;IASJc;;;WAAAA,cAAwCJ,GAAxCI,EAAmDC,CAAnDD,EAAmFE,CAAnFF,EAAmFE;MAAAA;;MAAAA,KAC3E,CAD2EA,KAChEhB,KAAKG,aAD2Da,GAE3EhB,KAAKG,aAALH,CAAmBU,GAAnBV,EAAyB;QACrBA,MAAKiB,MAALjB,CAAuCU,GAAvCV,EAA6Ce,CAA7Cf,GACAgB,KAAYA,GADZhB;MACYgB,CAFhBhB,CAF2EgB,IAO3EhB,KAAKiB,MAALjB,CAAuCU,GAAvCV,EAA6Ce,CAA7Cf,GACAgB,KAAYA,GAR+DA;IAY3EC;;;WAAAA,gBAAkDP,GAAlDO,EAA6DC,CAA7DD,EAA6DC;MACjE,IAAMN,IAAYZ,KAAKW,KAALX,CAAWU,GAAXV,CAAlB;;MACA,IAAIQ,MAAMC,OAAND,CAAcI,CAAdJ,MAA4BI,uBAAWO,MAAvCX,CAAJ;QAAA,4CAC2BI,CAD3B;QAAA;;QAAA;UACI,uDACIN;YAAAA,IADOA,CACPA;;YAAAA,EAASY,CAATZ,EAAeI,GAAfJ;UAGRN;QALA;UAAA;QAAA;UAAA;QAAA;MAAA;;MAKAA,KAAKkB,KAALlB,GAAakB,CAAblB;IAUJoB;;;WAAAA,aAAuCV,GAAvCU,EAAkDd,CAAlDc,EAAkDd;MAC9C,IAAMM,IAAYZ,KAAKW,KAALX,CAAWU,GAAXV,CAAlB;MAEA,SAAI,CAAJ,KAAeY,CAAf,EAEI,SAAI,CAAJ,KAAeN,CAAf,EAAeA,OACJN,KAAKW,KAALX,CAAWU,GAAXV,CADIM,CAAf,KAIK;QACD,IAAMe,OAAQT,EAAUU,SAAVV,CAAoBW;UAAAA,OAAMA,QAAOjB,CAAbiB;QAAAA,CAApBX,CAAd;;QACAA,EAAUY,MAAVZ,CAAiBS,IAAjBT,EAAwB,CAAxBA;MAAwB;IAQpCa;;;WAAAA;MACIzB,KAAKW,KAALX,GAAa,EAAbA;IAAa;;;;;;AAAA","names":["AnyEvent","constructor","this","beforeEach","interceptor","__interceptor","on","typeOrTypes","listener","types","Array","isArray","type","__map","listeners","push","emit","payload","callback","__emit","event","length","off","index","findIndex","cb","splice","destroy"],"sources":["../../../../packages/any-event/src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}
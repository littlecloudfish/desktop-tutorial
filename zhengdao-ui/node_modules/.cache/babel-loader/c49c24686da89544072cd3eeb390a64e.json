{"ast":null,"code":"import axios from 'axios';\nconst backapi = process.env.VUE_APP_APIURL;\nexport default {\n  async login(context, payload) {\n    console.log(payload); // const url = backapi+'/login'\n    // const data ={\n    //     username: payload.username,\n    //     password: payload.password,\n    // }\n    // try{\n    //     const errmes = await axios({\n    //         method: 'post',\n    //         url: url,\n    //         data:data,\n    //         headers: {\n    //             Accept: \"application/json\",\n    //             \"Content-Type\": \"application/json;charset=UTF-8\",\n    //           },\n    //     }).then((response) => {\n    //         context.commit('setUser',{\n    //             token: response.data.access_token,\n    //             userId: payload.username,\n    //         });\n    //     })\n    // }catch(err){\n    //     if (err.message == 'Request failed with status code 401'){\n    //         throw { message : \"Wrong password or username\" , number: 1000};\n    //     }\n    //     else {\n    //         throw err;\n    //     }\n    // }\n  },\n\n  async signup(context, payload) {\n    console.log(payload);\n    const url = backapi + '/register';\n    axios({\n      method: 'post',\n      url: url,\n      data: payload,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json;charset=UTF-8\"\n      }\n    }).then(response => {\n      console.log(response);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n};","map":{"version":3,"names":["axios","backapi","process","env","VUE_APP_APIURL","login","context","payload","console","log","signup","url","method","data","headers","Accept","then","response","error"],"sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/store/modules/auth/actions.js"],"sourcesContent":["import axios from 'axios'\nconst backapi = process.env.VUE_APP_APIURL;\n\nexport default {\n    async login(context, payload){\n        console.log(payload)\n        // const url = backapi+'/login'\n        // const data ={\n        //     username: payload.username,\n        //     password: payload.password,\n        // }\n\n\n        // try{\n        //     const errmes = await axios({\n        //         method: 'post',\n        //         url: url,\n        //         data:data,\n        //         headers: {\n        //             Accept: \"application/json\",\n        //             \"Content-Type\": \"application/json;charset=UTF-8\",\n        //           },\n             \n        //     }).then((response) => {\n        //         context.commit('setUser',{\n        //             token: response.data.access_token,\n        //             userId: payload.username,\n        //         });\n        //     })\n        // }catch(err){\n        //     if (err.message == 'Request failed with status code 401'){\n        //         throw { message : \"Wrong password or username\" , number: 1000};\n        //     }\n        //     else {\n        //         throw err;\n        //     }\n        // }\n    },\n\n    async signup(context, payload){\n        console.log(payload)\n        const url = backapi+'/register'\n        \n        axios({\n            method: 'post',\n            url: url,\n            data:payload,\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json;charset=UTF-8\",\n              },\n         \n        }).then((response) => {\n            console.log(response);\n        }, (error) => {\n            console.log(error);\n        });\n   \n    },\n\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,cAA5B;AAEA,eAAe;EACX,MAAMC,KAAN,CAAYC,OAAZ,EAAqBC,OAArB,EAA6B;IACzBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EADyB,CAEzB;IACA;IACA;IACA;IACA;IAGA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACH,CAlCU;;EAoCX,MAAMG,MAAN,CAAaJ,OAAb,EAAsBC,OAAtB,EAA8B;IAC1BC,OAAO,CAACC,GAAR,CAAYF,OAAZ;IACA,MAAMI,GAAG,GAAGV,OAAO,GAAC,WAApB;IAEAD,KAAK,CAAC;MACFY,MAAM,EAAE,MADN;MAEFD,GAAG,EAAEA,GAFH;MAGFE,IAAI,EAACN,OAHH;MAIFO,OAAO,EAAE;QACLC,MAAM,EAAE,kBADH;QAEL,gBAAgB;MAFX;IAJP,CAAD,CAAL,CASGC,IATH,CASSC,QAAD,IAAc;MAClBT,OAAO,CAACC,GAAR,CAAYQ,QAAZ;IACH,CAXD,EAWIC,KAAD,IAAW;MACVV,OAAO,CAACC,GAAR,CAAYS,KAAZ;IACH,CAbD;EAeH;;AAvDU,CAAf"},"metadata":{},"sourceType":"module"}
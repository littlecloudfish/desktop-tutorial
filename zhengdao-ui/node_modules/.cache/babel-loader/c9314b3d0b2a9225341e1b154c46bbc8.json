{"ast":null,"code":"import _regeneratorRuntime from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nexport default {\n  inject: ['musicid'],\n  data: function data() {\n    return {\n      currentAudioName: '',\n      // musicid: 5,\n      audioList: [{\n        name: 'test',\n        url: \"test\"\n      }],\n      // audioList:[],\n      TryList: null,\n      otherList: []\n    };\n  },\n  // beforeRouteEnter(to, from,next){\n  //     next(vm=>vm.setData())\n  // },\n  methods: {\n    handleBeforePlay: function handleBeforePlay(next) {\n      // There are a few things you can do here...\n      this.currentAudioName = this.audioList[this.$refs.audioPlayer.currentPlayIndex].name;\n      next();\n    } //   async setData(){\n    //     console.log('callsetdate')\n    //     await  this.$store.dispatch('music/musicinfo',this.musicid);\n    //     this.TryList = await this.$store.getters['music/listofmusicinfo'];\n    //   }\n\n  },\n  created: function created() {// await  this.$store.dispatch('music/musicinfo',this.musicid);\n    // console.log(this.$store.getters['music/listofmusicinfo']);\n    // this.TryList = await this.$store.getters['music/listofmusicinfo'];\n    // this.audioList[0] =  {\n    //     name:this.TryList[0].name,\n    //     url:'http://127.0.0.1:1943/enjoymusic/'+this.TryList[0].id ,\n    // };\n    // console.log(this.musicid)\n    // console.log(...mapGetters(['MusicUserid',]))\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.$store.dispatch('music/musicinfo', _this.musicid).then(function () {\n                _this.tryList = _this.$store.getters['music/listofmusicinfo'];\n                _this.dataready = true;\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;AAiBE,eAAe;EACbA,MAAM,EAAC,CAAC,SAAD,CADM;EAEbC,IAFa,kBAEN;IACL,OAAO;MACLC,gBAAgB,EAAE,EADb;MAEL;MACAC,SAAS,EAAE,CACT;QACEC,IAAI,EAAE,MADR;QAEEC,GAAG,EAAE;MAFP,CADS,CAHN;MASL;MACAC,OAAO,EAAC,IAVH;MAWLC,SAAS,EAAC;IAXL,CAAP;EAaD,CAhBY;EAiBb;EACA;EACA;EACAC,OAAO,EAAE;IACPC,gBADO,4BACUC,IADV,EACgB;MACrB;MACA,KAAKR,gBAAL,GAAwB,KAAKC,SAAL,CAAe,KAAKQ,KAAL,CAAWC,WAAX,CAAuBC,gBAAtC,EAAwDT,IAAhF;MACAM,IAAI;IACL,CALM,CAMT;IACA;IACA;IACA;IAEA;;EAXS,CApBI;EAiCPI,OAjCO,qBAiCE,CACX;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IATW;MAAA;QAAA;UAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAUZ,CA3CU;EA4CPC,YA5CO,0BA4CO;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACd,KAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,iBAArB,EAAuC,KAAI,CAACC,OAA5C,EAAqDC,IAArD,CAA0D,YAAM;gBAC5D,KAAI,CAACC,OAAL,GAAe,KAAI,CAACJ,MAAL,CAAYK,OAAZ,CAAoB,uBAApB,CAAf;gBACA,KAAI,CAACC,SAAL,GAAiB,IAAjB;cACH,CAHD;;YADc;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAMjB;AAlDU,CAAf","names":["inject","data","currentAudioName","audioList","name","url","TryList","otherList","methods","handleBeforePlay","next","$refs","audioPlayer","currentPlayIndex","created","beforeCreate","$store","dispatch","musicid","then","tryList","getters","dataready"],"sourceRoot":"","sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/components/function/musicaudio.vue"],"sourcesContent":["<template>\n    <!-- <div class=\"about\">\n      <h1>Not Found</h1>\n    </div> -->\n    <div>\n      <!-- {{ currentAudioName || this.audioList[0].name }}\n      <audio-player\n        ref=\"audioPlayer\"\n        :audio-list=\"audioList.map(elm => elm.url)\"\n        :before-play=\"handleBeforePlay\"\n        theme-color=\"#ffff\"\n      /> -->\n      <!-- {{this.TryList[0].url}} -->\n    </div>\n  \n</template>\n  <script>\n  export default {\n    inject:['musicid'],\n    data() {\n      return {\n        currentAudioName: '',\n        // musicid: 5,\n        audioList: [\n          {\n            name: 'test',\n            url: \"test\"\n          },\n        ],\n        // audioList:[],\n        TryList:null,\n        otherList:[],\n      }\n    },\n    // beforeRouteEnter(to, from,next){\n    //     next(vm=>vm.setData())\n    // },\n    methods: {\n      handleBeforePlay(next) {\n        // There are a few things you can do here...\n        this.currentAudioName = this.audioList[this.$refs.audioPlayer.currentPlayIndex].name\n        next() \n      },\n    //   async setData(){\n    //     console.log('callsetdate')\n    //     await  this.$store.dispatch('music/musicinfo',this.musicid);\n    //     this.TryList = await this.$store.getters['music/listofmusicinfo'];\n\n    //   }\n    },\n    async created(){\n        // await  this.$store.dispatch('music/musicinfo',this.musicid);\n        // console.log(this.$store.getters['music/listofmusicinfo']);\n        // this.TryList = await this.$store.getters['music/listofmusicinfo'];\n        // this.audioList[0] =  {\n        //     name:this.TryList[0].name,\n        //     url:'http://127.0.0.1:1943/enjoymusic/'+this.TryList[0].id ,\n        // };\n        // console.log(this.musicid)\n        // console.log(...mapGetters(['MusicUserid',]))\n      },\n    async beforeCreate(){\n          this.$store.dispatch('music/musicinfo',this.musicid).then(() => {\n              this.tryList = this.$store.getters['music/listofmusicinfo'];\n              this.dataready = true;\n          });\n          \n      },\n  }\n  </script>"]},"metadata":{},"sourceType":"module"}
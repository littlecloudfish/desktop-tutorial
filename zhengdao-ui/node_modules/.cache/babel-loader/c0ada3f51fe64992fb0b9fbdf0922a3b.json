{"ast":null,"code":"import { getCurrentInstance, useAttrs, useSlots } from 'vue';\nimport dayjs from 'dayjs';\nimport '../../../../utils/index.mjs';\nimport { isFunction } from '@vue/shared';\n\nvar useShortcut = function useShortcut(lang) {\n  var _getCurrentInstance = getCurrentInstance(),\n      emit = _getCurrentInstance.emit;\n\n  var attrs = useAttrs();\n  var slots = useSlots();\n\n  var handleShortcutClick = function handleShortcutClick(shortcut) {\n    var shortcutValues = isFunction(shortcut.value) ? shortcut.value() : shortcut.value;\n\n    if (shortcutValues) {\n      emit(\"pick\", [dayjs(shortcutValues[0]).locale(lang.value), dayjs(shortcutValues[1]).locale(lang.value)]);\n      return;\n    }\n\n    if (shortcut.onClick) {\n      shortcut.onClick({\n        attrs: attrs,\n        slots: slots,\n        emit: emit\n      });\n    }\n  };\n\n  return handleShortcutClick;\n};\n\nexport { useShortcut };","map":{"version":3,"mappings":";;;;;AAGY,IAACA,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAU;EACnC,0BAAiBC,kBAAkB,EAAnC;EAAA,IAAQC,IAAR,uBAAQA,IAAR;;EACA,IAAMC,KAAK,GAAGC,QAAQ,EAAtB;EACA,IAAMC,KAAK,GAAGC,QAAQ,EAAtB;;EACA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,QAAD,EAAc;IACxC,IAAMC,cAAc,GAAGC,UAAU,CAACF,QAAQ,CAACG,KAAV,CAAV,GAA6BH,QAAQ,CAACG,KAAT,EAA7B,GAAgDH,QAAQ,CAACG,KAAhF;;IACA,IAAIF,cAAJ,EAAoB;MAClBP,IAAI,CAAC,MAAD,EAAS,CACXU,KAAK,CAACH,cAAc,CAAC,CAAD,CAAf,CAAL,CAAyBI,MAAzB,CAAgCb,IAAI,CAACW,KAArC,CADW,EAEXC,KAAK,CAACH,cAAc,CAAC,CAAD,CAAf,CAAL,CAAyBI,MAAzB,CAAgCb,IAAI,CAACW,KAArC,CAFW,CAAT,CAAJ;MAIA;IACD;;IACD,IAAIH,QAAQ,CAACM,OAAb,EAAsB;MACpBN,QAAQ,CAACM,OAAT,CAAiB;QACfX,KAAK,EAALA,KADe;QAEfE,KAAK,EAALA,KAFe;QAGfH,IAAI,EAAJA;MAHe,CAAjB;IAKD;EACF,CAhBD;;EAiBA,OAAOK,mBAAP;AACF,CAtBY","names":["useShortcut","lang","getCurrentInstance","emit","attrs","useAttrs","slots","useSlots","handleShortcutClick","shortcut","shortcutValues","isFunction","value","dayjs","locale","onClick"],"sources":["../../../../../../../packages/components/date-picker/src/composables/use-shortcut.ts"],"sourcesContent":["import { getCurrentInstance, useAttrs, useSlots } from 'vue'\nimport dayjs from 'dayjs'\nimport { isFunction } from '@element-plus/utils'\n\nimport type { SetupContext } from 'vue'\nimport type { useLocale } from '@element-plus/hooks'\nimport type { RangePickerSharedEmits } from '../props/shared'\n\n// FIXME: extract this to `date-picker.ts`\nexport type Shortcut = {\n  text: string\n  value: [Date, Date] | (() => [Date, Date])\n  onClick?: (ctx: Omit<SetupContext<RangePickerSharedEmits>, 'expose'>) => void\n}\n\nexport const useShortcut = (lang: ReturnType<typeof useLocale>['lang']) => {\n  const { emit } = getCurrentInstance()!\n  const attrs = useAttrs()\n  const slots = useSlots()\n\n  const handleShortcutClick = (shortcut: Shortcut) => {\n    const shortcutValues = isFunction(shortcut.value)\n      ? shortcut.value()\n      : shortcut.value\n\n    if (shortcutValues) {\n      emit('pick', [\n        dayjs(shortcutValues[0]).locale(lang.value),\n        dayjs(shortcutValues[1]).locale(lang.value),\n      ])\n      return\n    }\n    if (shortcut.onClick) {\n      shortcut.onClick({\n        attrs,\n        slots,\n        emit,\n      })\n    }\n  }\n\n  return handleShortcutClick\n}\n"]},"metadata":{},"sourceType":"module"}
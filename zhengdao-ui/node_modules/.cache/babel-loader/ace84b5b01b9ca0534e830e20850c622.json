{"ast":null,"code":"import _defineProperty from \"/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _treeEmits;\n\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\nvar ROOT_TREE_INJECTION_KEY = Symbol();\nvar EMPTY_NODE = {\n  key: -1,\n  level: -1,\n  data: {}\n};\n\nvar TreeOptionsEnum = /* @__PURE__ */function (TreeOptionsEnum2) {\n  TreeOptionsEnum2[\"KEY\"] = \"id\";\n  TreeOptionsEnum2[\"LABEL\"] = \"label\";\n  TreeOptionsEnum2[\"CHILDREN\"] = \"children\";\n  TreeOptionsEnum2[\"DISABLED\"] = \"disabled\";\n  return TreeOptionsEnum2;\n}(TreeOptionsEnum || {});\n\nvar SetOperationEnum = /* @__PURE__ */function (SetOperationEnum2) {\n  SetOperationEnum2[\"ADD\"] = \"add\";\n  SetOperationEnum2[\"DELETE\"] = \"delete\";\n  return SetOperationEnum2;\n}(SetOperationEnum || {});\n\nvar treeProps = buildProps({\n  data: {\n    type: definePropType(Array),\n    \"default\": function _default() {\n      return mutable([]);\n    }\n  },\n  emptyText: {\n    type: String\n  },\n  height: {\n    type: Number,\n    \"default\": 200\n  },\n  props: {\n    type: definePropType(Object),\n    \"default\": function _default() {\n      return mutable({\n        children: \"children\"\n        /* CHILDREN */\n        ,\n        label: \"label\"\n        /* LABEL */\n        ,\n        disabled: \"disabled\"\n        /* DISABLED */\n        ,\n        value: \"id\"\n        /* KEY */\n\n      });\n    }\n  },\n  highlightCurrent: {\n    type: Boolean,\n    \"default\": false\n  },\n  showCheckbox: {\n    type: Boolean,\n    \"default\": false\n  },\n  defaultCheckedKeys: {\n    type: definePropType(Array),\n    \"default\": function _default() {\n      return mutable([]);\n    }\n  },\n  checkStrictly: {\n    type: Boolean,\n    \"default\": false\n  },\n  defaultExpandedKeys: {\n    type: definePropType(Array),\n    \"default\": function _default() {\n      return mutable([]);\n    }\n  },\n  indent: {\n    type: Number,\n    \"default\": 16\n  },\n  icon: {\n    type: iconPropType\n  },\n  expandOnClickNode: {\n    type: Boolean,\n    \"default\": true\n  },\n  checkOnClickNode: {\n    type: Boolean,\n    \"default\": false\n  },\n  currentNodeKey: {\n    type: definePropType([String, Number])\n  },\n  accordion: {\n    type: Boolean,\n    \"default\": false\n  },\n  filterMethod: {\n    type: definePropType(Function)\n  },\n  perfMode: {\n    type: Boolean,\n    \"default\": true\n  }\n});\nvar treeNodeProps = buildProps({\n  node: {\n    type: definePropType(Object),\n    \"default\": function _default() {\n      return mutable(EMPTY_NODE);\n    }\n  },\n  expanded: {\n    type: Boolean,\n    \"default\": false\n  },\n  checked: {\n    type: Boolean,\n    \"default\": false\n  },\n  indeterminate: {\n    type: Boolean,\n    \"default\": false\n  },\n  showCheckbox: {\n    type: Boolean,\n    \"default\": false\n  },\n  disabled: {\n    type: Boolean,\n    \"default\": false\n  },\n  current: {\n    type: Boolean,\n    \"default\": false\n  },\n  hiddenExpandIcon: {\n    type: Boolean,\n    \"default\": false\n  }\n});\nvar treeNodeContentProps = buildProps({\n  node: {\n    type: definePropType(Object),\n    required: true\n  }\n});\nvar NODE_CLICK = \"node-click\";\nvar NODE_EXPAND = \"node-expand\";\nvar NODE_COLLAPSE = \"node-collapse\";\nvar CURRENT_CHANGE = \"current-change\";\nvar NODE_CHECK = \"check\";\nvar NODE_CHECK_CHANGE = \"check-change\";\nvar NODE_CONTEXTMENU = \"node-contextmenu\";\nvar treeEmits = (_treeEmits = {}, _defineProperty(_treeEmits, NODE_CLICK, function (data, node, e) {\n  return data && node && e;\n}), _defineProperty(_treeEmits, NODE_EXPAND, function (data, node) {\n  return data && node;\n}), _defineProperty(_treeEmits, NODE_COLLAPSE, function (data, node) {\n  return data && node;\n}), _defineProperty(_treeEmits, CURRENT_CHANGE, function (data, node) {\n  return data && node;\n}), _defineProperty(_treeEmits, NODE_CHECK, function (data, checkedInfo) {\n  return data && checkedInfo;\n}), _defineProperty(_treeEmits, NODE_CHECK_CHANGE, function (data, checked) {\n  return data && typeof checked === \"boolean\";\n}), _defineProperty(_treeEmits, NODE_CONTEXTMENU, function (event, data, node) {\n  return event && data && node;\n}), _treeEmits);\nvar treeNodeEmits = {\n  click: function click(node, e) {\n    return !!(node && e);\n  },\n  toggle: function toggle(node) {\n    return !!node;\n  },\n  check: function check(node, checked) {\n    return node && typeof checked === \"boolean\";\n  }\n};\nexport { CURRENT_CHANGE, NODE_CHECK, NODE_CHECK_CHANGE, NODE_CLICK, NODE_COLLAPSE, NODE_CONTEXTMENU, NODE_EXPAND, ROOT_TREE_INJECTION_KEY, SetOperationEnum, TreeOptionsEnum, treeEmits, treeNodeContentProps, treeNodeEmits, treeNodeProps, treeProps };","map":{"version":3,"mappings":"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","names":["ROOT_TREE_INJECTION_KEY","Symbol","EMPTY_NODE","key","level","data","TreeOptionsEnum","TreeOptionsEnum2","SetOperationEnum","SetOperationEnum2","treeProps","buildProps","type","definePropType","Array","mutable","emptyText","String","height","Number","props","Object","children","label","disabled","value","highlightCurrent","Boolean","showCheckbox","defaultCheckedKeys","checkStrictly","defaultExpandedKeys","indent","icon","iconPropType","expandOnClickNode","checkOnClickNode","currentNodeKey","accordion","filterMethod","Function","perfMode","treeNodeProps","node","expanded","checked","indeterminate","current","hiddenExpandIcon","treeNodeContentProps","required","NODE_CLICK","NODE_EXPAND","NODE_COLLAPSE","CURRENT_CHANGE","NODE_CHECK","NODE_CHECK_CHANGE","NODE_CONTEXTMENU","treeEmits","e","checkedInfo","event","treeNodeEmits","click","toggle","check"],"sources":["../../../../../../packages/components/tree-v2/src/virtual-tree.ts"],"sourcesContent":["import {\n  buildProps,\n  definePropType,\n  iconPropType,\n  mutable,\n} from '@element-plus/utils'\nimport type { InjectionKey } from 'vue'\nimport type { TreeNodeData } from '../../tree/src/tree.type'\nimport type {\n  CheckedInfo,\n  FilterMethod,\n  TreeContext,\n  TreeData,\n  TreeKey,\n  TreeNode,\n  TreeOptionProps,\n} from './types'\n\n// constants\nexport const ROOT_TREE_INJECTION_KEY: InjectionKey<TreeContext> = Symbol()\nconst EMPTY_NODE = {\n  key: -1,\n  level: -1,\n  data: {},\n} as const\n\n// enums\nexport enum TreeOptionsEnum {\n  KEY = 'id',\n  LABEL = 'label',\n  CHILDREN = 'children',\n  DISABLED = 'disabled',\n}\n\nexport const enum SetOperationEnum {\n  ADD = 'add',\n  DELETE = 'delete',\n}\n\n// props\nexport const treeProps = buildProps({\n  data: {\n    type: definePropType<TreeData>(Array),\n    default: () => mutable([] as const),\n  },\n  emptyText: {\n    type: String,\n  },\n  height: {\n    type: Number,\n    default: 200,\n  },\n  props: {\n    type: definePropType<TreeOptionProps>(Object),\n    default: () =>\n      mutable({\n        children: TreeOptionsEnum.CHILDREN,\n        label: TreeOptionsEnum.LABEL,\n        disabled: TreeOptionsEnum.DISABLED,\n        value: TreeOptionsEnum.KEY,\n      } as const),\n  },\n  highlightCurrent: {\n    type: Boolean,\n    default: false,\n  },\n  showCheckbox: {\n    type: Boolean,\n    default: false,\n  },\n  defaultCheckedKeys: {\n    type: definePropType<TreeKey[]>(Array),\n    default: () => mutable([] as const),\n  },\n  // Whether checked state of a node not affects its father and\n  // child nodes when show-checkbox is true\n  checkStrictly: {\n    type: Boolean,\n    default: false,\n  },\n  defaultExpandedKeys: {\n    type: definePropType<TreeKey[]>(Array),\n    default: () => mutable([] as const),\n  },\n  indent: {\n    type: Number,\n    default: 16,\n  },\n  icon: {\n    type: iconPropType,\n  },\n  expandOnClickNode: {\n    type: Boolean,\n    default: true,\n  },\n  checkOnClickNode: {\n    type: Boolean,\n    default: false,\n  },\n  currentNodeKey: {\n    type: definePropType<TreeKey>([String, Number]),\n  },\n  // TODO need to optimization\n  accordion: {\n    type: Boolean,\n    default: false,\n  },\n  filterMethod: {\n    type: definePropType<FilterMethod>(Function),\n  },\n  // Performance mode will increase memory usage, but scrolling will be smoother\n  perfMode: {\n    type: Boolean,\n    default: true,\n  },\n} as const)\n\nexport const treeNodeProps = buildProps({\n  node: {\n    type: definePropType<TreeNode>(Object),\n    default: () => mutable(EMPTY_NODE),\n  },\n  expanded: {\n    type: Boolean,\n    default: false,\n  },\n  checked: {\n    type: Boolean,\n    default: false,\n  },\n  indeterminate: {\n    type: Boolean,\n    default: false,\n  },\n  showCheckbox: {\n    type: Boolean,\n    default: false,\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n  current: {\n    type: Boolean,\n    default: false,\n  },\n  hiddenExpandIcon: {\n    type: Boolean,\n    default: false,\n  },\n} as const)\n\nexport const treeNodeContentProps = buildProps({\n  node: {\n    type: definePropType<TreeNode>(Object),\n    required: true,\n  },\n} as const)\n\n// emits\nexport const NODE_CLICK = 'node-click'\nexport const NODE_EXPAND = 'node-expand'\nexport const NODE_COLLAPSE = 'node-collapse'\nexport const CURRENT_CHANGE = 'current-change'\nexport const NODE_CHECK = 'check'\nexport const NODE_CHECK_CHANGE = 'check-change'\nexport const NODE_CONTEXTMENU = 'node-contextmenu'\n\nexport const treeEmits = {\n  [NODE_CLICK]: (data: TreeNodeData, node: TreeNode, e: MouseEvent) =>\n    data && node && e,\n  [NODE_EXPAND]: (data: TreeNodeData, node: TreeNode) => data && node,\n  [NODE_COLLAPSE]: (data: TreeNodeData, node: TreeNode) => data && node,\n  [CURRENT_CHANGE]: (data: TreeNodeData, node: TreeNode) => data && node,\n  [NODE_CHECK]: (data: TreeNodeData, checkedInfo: CheckedInfo) =>\n    data && checkedInfo,\n  [NODE_CHECK_CHANGE]: (data: TreeNodeData, checked: boolean) =>\n    data && typeof checked === 'boolean',\n  [NODE_CONTEXTMENU]: (event: Event, data: TreeNodeData, node: TreeNode) =>\n    event && data && node,\n}\n\nexport const treeNodeEmits = {\n  click: (node: TreeNode, e: MouseEvent) => !!(node && e),\n  toggle: (node: TreeNode) => !!node,\n  check: (node: TreeNode, checked: boolean) =>\n    node && typeof checked === 'boolean',\n}\n"]},"metadata":{},"sourceType":"module"}
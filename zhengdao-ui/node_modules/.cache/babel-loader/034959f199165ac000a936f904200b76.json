{"ast":null,"code":"import _regeneratorRuntime from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nexport default {\n  inject: ['musicid'],\n  data: function data() {\n    return {\n      currentAudioName: '',\n      // musicid: 5,\n      // audioList: [\n      //   {\n      //     name: 'audio1',\n      //     url: \"http://127.0.0.1:1943/enjoymusic/5\"\n      //   },\n      //   {\n      //     name: 'audio2',\n      //     url: 'http://127.0.0.1:1943/enjoymusic/6'\n      //   }\n      // ],\n      audioList: [],\n      TryList: null,\n      otherList: []\n    };\n  },\n  methods: {\n    handleBeforePlay: function handleBeforePlay(next) {\n      // There are a few things you can do here...\n      this.currentAudioName = this.audioList[this.$refs.audioPlayer.currentPlayIndex].name;\n      next(); // Start playing\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.$store.dispatch('music/musicinfo', _this.musicid);\n\n            case 2:\n              _context.next = 4;\n              return _this.$store.getters['music/listofmusicinfo'];\n\n            case 4:\n              _this.TryList = _context.sent;\n              _this.audioList[0] = {\n                name: _this.TryList[0].name,\n                url: 'http://127.0.0.1:1943/enjoymusic/' + _this.TryList[0].id\n              }; // console.log(this.musicid)\n              // console.log(...mapGetters(['MusicUserid',]))\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;AAiBE,eAAe;EACbA,MAAM,EAAC,CAAC,SAAD,CADM;EAEbC,IAFa,kBAEN;IACL,OAAO;MACLC,gBAAgB,EAAE,EADb;MAEL;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC,SAAS,EAAC,EAbL;MAcLC,OAAO,EAAC,IAdH;MAeLC,SAAS,EAAC;IAfL,CAAP;EAiBD,CApBY;EAqBbC,OAAO,EAAE;IACPC,gBADO,4BACUC,IADV,EACgB;MACrB;MACA,KAAKN,gBAAL,GAAwB,KAAKC,SAAL,CAAe,KAAKM,KAAL,CAAWC,WAAX,CAAuBC,gBAAtC,EAAwDC,IAAhF;MAEAJ,IAAI,GAJiB,CAId;IACT;EANO,CArBI;EA6BPK,OA7BO,qBA6BE;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACJ,KAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,iBAArB,EAAuC,KAAI,CAACC,OAA5C,CADI;;YAAA;cAAA;cAAA,OAGU,KAAI,CAACF,MAAL,CAAYG,OAAZ,CAAoB,uBAApB,CAHV;;YAAA;cAGX,KAAI,CAACb,OAHM;cAIX,KAAI,CAACD,SAAL,CAAe,CAAf,IAAoB;gBAChBS,IAAI,EAAC,KAAI,CAACR,OAAL,CAAa,CAAb,EAAgBQ,IADL;gBAEhBM,GAAG,EAAC,sCAAoC,KAAI,CAACd,OAAL,CAAa,CAAb,EAAgBe;cAFxC,CAApB,CAJW,CASX;cACA;;YAVW;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAWZ;AAxCU,CAAf","names":["inject","data","currentAudioName","audioList","TryList","otherList","methods","handleBeforePlay","next","$refs","audioPlayer","currentPlayIndex","name","created","$store","dispatch","musicid","getters","url","id"],"sourceRoot":"","sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/components/function/musicaudio.vue"],"sourcesContent":["<template>\n    <!-- <div class=\"about\">\n      <h1>Not Found</h1>\n    </div> -->\n    <div>\n      {{ currentAudioName || audioList[0].name }}\n      <audio-player\n        ref=\"audioPlayer\"\n        :audio-list=\"audioList.map(elm => elm.url)\"\n        :before-play=\"handleBeforePlay\"\n        theme-color=\"#ffff\"\n      />\n      {{this.otherList[0].url}}\n    </div>\n  \n</template>\n  <script>\n  export default {\n    inject:['musicid'],\n    data() {\n      return {\n        currentAudioName: '',\n        // musicid: 5,\n        // audioList: [\n        //   {\n        //     name: 'audio1',\n        //     url: \"http://127.0.0.1:1943/enjoymusic/5\"\n        //   },\n        //   {\n        //     name: 'audio2',\n        //     url: 'http://127.0.0.1:1943/enjoymusic/6'\n        //   }\n        // ],\n        audioList:[],\n        TryList:null,\n        otherList:[],\n      }\n    },\n    methods: {\n      handleBeforePlay(next) {\n        // There are a few things you can do here...\n        this.currentAudioName = this.audioList[this.$refs.audioPlayer.currentPlayIndex].name\n        \n        next() // Start playing\n      }\n    },\n    async created(){\n        await  this.$store.dispatch('music/musicinfo',this.musicid);\n        // console.log(this.$store.getters['music/listofmusicinfo']);\n        this.TryList = await this.$store.getters['music/listofmusicinfo'];\n        this.audioList[0] = {\n            name:this.TryList[0].name,\n            url:'http://127.0.0.1:1943/enjoymusic/'+this.TryList[0].id ,\n        };\n\n        // console.log(this.musicid)\n        // console.log(...mapGetters(['MusicUserid',]))\n      },\n  }\n  </script>"]},"metadata":{},"sourceType":"module"}
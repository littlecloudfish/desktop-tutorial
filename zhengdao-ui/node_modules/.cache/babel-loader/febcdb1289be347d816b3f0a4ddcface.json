{"ast":null,"code":"import _slicedToArray from \"/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport { NOOP } from '@vue/shared';\n\nvar withInstall = function withInstall(main, extra) {\n  ;\n\n  main.install = function (app) {\n    for (var _i = 0, _arr = [main].concat(_toConsumableArray(Object.values(extra != null ? extra : {}))); _i < _arr.length; _i++) {\n      var comp = _arr[_i];\n      app.component(comp.name, comp);\n    }\n  };\n\n  if (extra) {\n    for (var _i2 = 0, _Object$entries = Object.entries(extra); _i2 < _Object$entries.length; _i2++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i2], 2),\n          key = _Object$entries$_i[0],\n          comp = _Object$entries$_i[1];\n\n      ;\n      main[key] = comp;\n    }\n  }\n\n  return main;\n};\n\nvar withInstallFunction = function withInstallFunction(fn, name) {\n  ;\n\n  fn.install = function (app) {\n    ;\n    fn._context = app._context;\n    app.config.globalProperties[name] = fn;\n  };\n\n  return fn;\n};\n\nvar withInstallDirective = function withInstallDirective(directive, name) {\n  ;\n\n  directive.install = function (app) {\n    app.directive(name, directive);\n  };\n\n  return directive;\n};\n\nvar withNoopInstall = function withNoopInstall(component) {\n  ;\n  component.install = NOOP;\n  return component;\n};\n\nexport { withInstall, withInstallDirective, withInstallFunction, withNoopInstall };","map":{"version":3,"mappings":";;;;;;;;AACY,IAACA,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAOC,KAAP,EAAiB;EAC1C;;EACAD,IAAI,CAACE,OAAL,GAAe,UAACC,GAAD,EAAS;IACtB,yBAAoBH,IAApB,4BAA6BI,MAAM,CAACC,MAAP,CAAcJ,KAAK,IAAI,IAAT,GAAgBA,KAAhB,GAAwB,EAAtC,CAA7B,4BAAyE;MAApE,IAAMK,IAAI,WAAV;MACHH,GAAG,CAACI,SAAJ,CAAcD,IAAI,CAACE,IAAnB,EAAyBF,IAAzB;IACD;EACF,CAJD;;EAKA,IAAIL,KAAJ,EAAW;IACT,oCAA0BG,MAAM,CAACK,OAAP,CAAeR,KAAf,CAA1B,uCAAiD;MAA5C;MAAA,IAAOS,GAAP;MAAA,IAAYJ,IAAZ;;MACH;MACAN,IAAI,CAACU,GAAD,CAAJ,GAAYJ,IAAZ;IACD;EACF;;EACD,OAAON,IAAP;AACF,CAdY;;AAeA,IAACW,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,EAAD,EAAKJ,IAAL,EAAc;EAC/C;;EACAI,EAAE,CAACV,OAAH,GAAa,UAACC,GAAD,EAAS;IACpB;IACAS,EAAE,CAACC,QAAH,GAAcV,GAAG,CAACU,QAAlB;IACAV,GAAG,CAACW,MAAJ,CAAWC,gBAAX,CAA4BP,IAA5B,IAAoCI,EAApC;EACD,CAJD;;EAKA,OAAOA,EAAP;AACF,CARY;;AASA,IAACI,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,SAAD,EAAYT,IAAZ,EAAqB;EACvD;;EACAS,SAAS,CAACf,OAAV,GAAoB,UAACC,GAAD,EAAS;IAC3BA,GAAG,CAACc,SAAJ,CAAcT,IAAd,EAAoBS,SAApB;EACD,CAFD;;EAGA,OAAOA,SAAP;AACF,CANY;;AAOA,IAACC,eAAe,GAAG,SAAlBA,eAAkB,CAACX,SAAD,EAAe;EAC5C;EACAA,SAAS,CAACL,OAAV,GAAoBiB,IAApB;EACA,OAAOZ,SAAP;AACF,CAJY","names":["withInstall","main","extra","install","app","Object","values","comp","component","name","entries","key","withInstallFunction","fn","_context","config","globalProperties","withInstallDirective","directive","withNoopInstall","NOOP"],"sources":["../../../../../packages/utils/vue/install.ts"],"sourcesContent":["import { NOOP } from '@vue/shared'\n\nimport type { App } from 'vue'\nimport type { SFCInstallWithContext, SFCWithInstall } from './typescript'\n\nexport const withInstall = <T, E extends Record<string, any>>(\n  main: T,\n  extra?: E\n) => {\n  ;(main as SFCWithInstall<T>).install = (app): void => {\n    for (const comp of [main, ...Object.values(extra ?? {})]) {\n      app.component(comp.name, comp)\n    }\n  }\n\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      ;(main as any)[key] = comp\n    }\n  }\n  return main as SFCWithInstall<T> & E\n}\n\nexport const withInstallFunction = <T>(fn: T, name: string) => {\n  ;(fn as SFCWithInstall<T>).install = (app: App) => {\n    ;(fn as SFCInstallWithContext<T>)._context = app._context\n    app.config.globalProperties[name] = fn\n  }\n\n  return fn as SFCInstallWithContext<T>\n}\n\nexport const withInstallDirective = <T>(directive: T, name: string) => {\n  ;(directive as SFCWithInstall<T>).install = (app: App): void => {\n    app.directive(name, directive)\n  }\n\n  return directive as SFCWithInstall<T>\n}\n\nexport const withNoopInstall = <T>(component: T) => {\n  ;(component as SFCWithInstall<T>).install = NOOP\n\n  return component as SFCWithInstall<T>\n}\n"]},"metadata":{},"sourceType":"module"}
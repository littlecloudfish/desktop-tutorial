{"ast":null,"code":"import axios from 'axios'; // \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY2MzAwOTYxNywianRpIjoiODFlMzNhNjMtMjA5NS00MzhjLTk1ZWQtYzBkNzYyM2U4ZDI2IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MTcsIm5iZiI6MTY2MzAwOTYxNywiY3NyZiI6IjY2ZmY0MjBhLWIwMTctNGYwNy05ODJhLTk4MzZlY2QwZDIxMCIsImV4cCI6MTY2MzAxMDUxN30.YNVzQK6PfGqUbZgGnR-D70aIeBPipiPBMQKb-46ttME\"\n\nexport default {\n  setup: function setup() {// const accesstoken =  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY2MzA5NDgwMiwianRpIjoiYTAyMDEyMjMtNDhiMi00YzU0LWFhZTAtMjIzZDA4ZDRkMDVhIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MTcsIm5iZiI6MTY2MzA5NDgwMiwiY3NyZiI6IjUyMGQ2NWRiLWQ0MmMtNGUwNi1iMDU1LWMyNzkzYTQzYjYyZSIsImV4cCI6MTY2MzA5NTcwMn0.2xryzXy_UFzamcIWspbLS375K4UQGu8KSt_Nq8y4B3o\";\n    // const apiUrl = 'http://127.0.0.1:1943';\n    // axios.get('http://127.0.0.1:1943/who_am_i', {\n    //   headers: {\n    //       'Authorization': `Bearer ${accesstoken}`\n    //       }\n    // })\n    // .then((res) => {\n    //   console.log(res.data)\n    // })\n    // .catch((error) => {\n    //   console.error(error)\n    // })\n    // ;\n    // axios.get(apiUrl+'/protected',{ headers:{\"Authorization\" : 'Bearer $accesstoken'}})\n    //     .then(res => {\n    //       console.log(res);\n    //     })\n    //     .catch(error)\n    // const options = {\n    // method: 'get',\n    // headers: {\n    //   Authorization: `Bearer ${accesstoken}`,\n    //   }\n    // };\n    // const response = fetch('http://127.0.0.1:1943/who_am_i', options);\n    // console.log(response.json())\n    //       const authAxios = axios.create({\n    //       baseURL: apiUrl,\n    //       headers: {\n    //         Authorization: 'Bearer ${eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9}' \n    //       },\n    // })\n    //       authAxios.get('/protected');\n  },\n  methods: {\n    getaccesstoken: function getaccesstoken() {\n      var accesstoken = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY2MzA5NDgwMiwianRpIjoiYTAyMDEyMjMtNDhiMi00YzU0LWFhZTAtMjIzZDA4ZDRkMDVhIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MTcsIm5iZiI6MTY2MzA5NDgwMiwiY3NyZiI6IjUyMGQ2NWRiLWQ0MmMtNGUwNi1iMDU1LWMyNzkzYTQzYjYyZSIsImV4cCI6MTY2MzA5NTcwMn0.2xryzXy_UFzamcIWspbLS375K4UQGu8KSt_Nq8y4B3o\";\n      var apiUrl = 'http://127.0.0.1:1943';\n      console.log('create');\n      axios.get('http://127.0.0.1:1943/who_am_i', {\n        headers: {\n          'Authorization': \"Bearer \".concat(accesstoken)\n        }\n      }).then(function (res) {\n        console.log(res.data);\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    }\n  },\n  data: function data() {\n    return {\n      posts: [{\n        \"cover_address\": \"/demopicture/example.png\",\n        \"id\": 1,\n        \"music_address\": \"/DEMOMUSIC/crimanal.mp3\",\n        \"name\": \"crimanal\",\n        \"post_date\": \"2022-08-17T20:13:19\",\n        \"user_id\": 1\n      }, {\n        \"cover_address\": \"/demopicture/example.png\",\n        \"id\": 2,\n        \"music_address\": \"/DEMOMUSIC/crimanal.mp3\",\n        \"name\": \"dangerous\",\n        \"post_date\": \"2022-08-17T20:13:19\",\n        \"user_id\": 2\n      }]\n    };\n  },\n  created: function created() {} // computed:{\n  //   userinfo(){\n  //       return this.$store.getters;\n  //   },\n  // }\n\n};","map":{"version":3,"mappings":"AAeE,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AAEA,eAAe;EAEXC,KAFW,mBAEH,CAEN;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACN;IACA;IACA;IACA;IACA;IACA;IACA;EAES,CAxCM;EAyCXC,OAAO,EAAC;IACNC,cADM,4BACU;MACd,IAAMC,WAAU,GAAK,sUAArB;MACA,IAAMC,MAAK,GAAI,uBAAf;MACAC,OAAO,CAACC,GAAR,CAAY,QAAZ;MACAP,KAAK,CAACQ,GAAN,CAAU,gCAAV,EAA4C;QAC1CC,OAAO,EAAE;UACL,kCAA2BL,WAA3B;QADK;MADiC,CAA5C,EAKCM,IALD,CAKM,UAACC,GAAD,EAAS;QACbL,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,IAAhB;MACD,CAPD,WAQO,UAACC,KAAD,EAAW;QAChBP,OAAO,CAACO,KAAR,CAAcA,KAAd;MACD,CAVD;IAYF;EAjBM,CAzCG;EA4DXD,IA5DW,kBA4DJ;IACH,OAAM;MACFE,KAAK,EAAC,CACE;QACI,iBAAiB,0BADrB;QAEI,MAAM,CAFV;QAGI,iBAAiB,yBAHrB;QAII,QAAQ,UAJZ;QAKI,aAAa,qBALjB;QAMI,WAAW;MANf,CADF,EASE;QACI,iBAAiB,0BADrB;QAEI,MAAM,CAFV;QAGI,iBAAiB,yBAHrB;QAII,QAAQ,WAJZ;QAKI,aAAa,qBALjB;QAMI,WAAW;MANf,CATF;IADJ,CAAN;EAqBH,CAlFU;EAmFXC,OAnFW,qBAmFF,CAET,CArFW,CAsFX;EACA;EACA;EACA;EACF;;AA1Fa,CAAf","names":["axios","setup","methods","getaccesstoken","accesstoken","apiUrl","console","log","get","headers","then","res","data","error","posts","created"],"sourceRoot":"","sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/views/User/MusicUser.vue"],"sourcesContent":["<template>\n  <div class=\"common-layout\">\n    <el-container>\n      <el-aside width=\"200px\">\n        Aside\n\n      </el-aside>\n      <el-main>\n        <el-button type=\"Success\" round @click=\"getaccesstoken\" >Login</el-button> \n        <!-- <display-music :posts=\"posts\"></display-music> -->\n      </el-main>\n    </el-container>\n  </div>\n</template>\n<script>\n  import axios from 'axios'\n\n  // \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY2MzAwOTYxNywianRpIjoiODFlMzNhNjMtMjA5NS00MzhjLTk1ZWQtYzBkNzYyM2U4ZDI2IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MTcsIm5iZiI6MTY2MzAwOTYxNywiY3NyZiI6IjY2ZmY0MjBhLWIwMTctNGYwNy05ODJhLTk4MzZlY2QwZDIxMCIsImV4cCI6MTY2MzAxMDUxN30.YNVzQK6PfGqUbZgGnR-D70aIeBPipiPBMQKb-46ttME\"\n\n  export default({\n      \n      setup() {\n\n        // const accesstoken =  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY2MzA5NDgwMiwianRpIjoiYTAyMDEyMjMtNDhiMi00YzU0LWFhZTAtMjIzZDA4ZDRkMDVhIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MTcsIm5iZiI6MTY2MzA5NDgwMiwiY3NyZiI6IjUyMGQ2NWRiLWQ0MmMtNGUwNi1iMDU1LWMyNzkzYTQzYjYyZSIsImV4cCI6MTY2MzA5NTcwMn0.2xryzXy_UFzamcIWspbLS375K4UQGu8KSt_Nq8y4B3o\";\n        // const apiUrl = 'http://127.0.0.1:1943';\n        \n        // axios.get('http://127.0.0.1:1943/who_am_i', {\n        //   headers: {\n        //       'Authorization': `Bearer ${accesstoken}`\n        //       }\n        // })\n        // .then((res) => {\n        //   console.log(res.data)\n        // })\n        // .catch((error) => {\n        //   console.error(error)\n        // })\n        // ;\n        // axios.get(apiUrl+'/protected',{ headers:{\"Authorization\" : 'Bearer $accesstoken'}})\n        //     .then(res => {\n        //       console.log(res);\n        //     })\n        //     .catch(error)\n        // const options = {\n        // method: 'get',\n        // headers: {\n        //   Authorization: `Bearer ${accesstoken}`,\n        //   }\n        // };\n        // const response = fetch('http://127.0.0.1:1943/who_am_i', options);\n        // console.log(response.json())\n  //       const authAxios = axios.create({\n  //       baseURL: apiUrl,\n  //       headers: {\n  //         Authorization: 'Bearer ${eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9}' \n  //       },\n  // })\n  //       authAxios.get('/protected');\n          \n          },\n      methods:{\n        getaccesstoken(){\n          const accesstoken =  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTY2MzA5NDgwMiwianRpIjoiYTAyMDEyMjMtNDhiMi00YzU0LWFhZTAtMjIzZDA4ZDRkMDVhIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6MTcsIm5iZiI6MTY2MzA5NDgwMiwiY3NyZiI6IjUyMGQ2NWRiLWQ0MmMtNGUwNi1iMDU1LWMyNzkzYTQzYjYyZSIsImV4cCI6MTY2MzA5NTcwMn0.2xryzXy_UFzamcIWspbLS375K4UQGu8KSt_Nq8y4B3o\";\n          const apiUrl = 'http://127.0.0.1:1943';\n          console.log('create')\n          axios.get('http://127.0.0.1:1943/who_am_i', {\n            headers: {\n                'Authorization': `Bearer ${accesstoken}`\n                }\n          })\n          .then((res) => {\n            console.log(res.data)\n          })\n          .catch((error) => {\n            console.error(error)\n          })\n          ;\n        }\n      },\n      data() {\n          return{\n              posts:[\n                      {\n                          \"cover_address\": \"/demopicture/example.png\",\n                          \"id\": 1,\n                          \"music_address\": \"/DEMOMUSIC/crimanal.mp3\",\n                          \"name\": \"crimanal\",\n                          \"post_date\": \"2022-08-17T20:13:19\",\n                          \"user_id\": 1\n                      },\n                      {\n                          \"cover_address\": \"/demopicture/example.png\",\n                          \"id\": 2,\n                          \"music_address\": \"/DEMOMUSIC/crimanal.mp3\",\n                          \"name\": \"dangerous\",\n                          \"post_date\": \"2022-08-17T20:13:19\",\n                          \"user_id\": 2\n                      },]\n  \n              \n          }\n      },\n      created(){\n        \n      }\n      // computed:{\n      //   userinfo(){\n      //       return this.$store.getters;\n      //   },\n    // }\n  })\n  </script>\n  \n\n"]},"metadata":{},"sourceType":"module"}
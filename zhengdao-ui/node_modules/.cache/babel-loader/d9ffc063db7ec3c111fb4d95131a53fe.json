{"ast":null,"code":"import _toConsumableArray from \"/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { isClient, unrefElement } from '@vueuse/core';\n\nvar buildPopperOptions = function buildPopperOptions(props, arrowProps) {\n  var placement = props.placement,\n      strategy = props.strategy,\n      popperOptions = props.popperOptions;\n\n  var options = _objectSpread(_objectSpread({\n    placement: placement,\n    strategy: strategy\n  }, popperOptions), {}, {\n    modifiers: genModifiers(props)\n  });\n\n  attachArrow(options, arrowProps);\n  deriveExtraModifiers(options, popperOptions == null ? void 0 : popperOptions.modifiers);\n  return options;\n};\n\nvar unwrapMeasurableEl = function unwrapMeasurableEl($el) {\n  if (!isClient) return;\n  return unrefElement($el);\n};\n\nfunction genModifiers(options) {\n  var offset = options.offset,\n      gpuAcceleration = options.gpuAcceleration,\n      fallbackPlacements = options.fallbackPlacements;\n  return [{\n    name: \"offset\",\n    options: {\n      offset: [0, offset != null ? offset : 12]\n    }\n  }, {\n    name: \"preventOverflow\",\n    options: {\n      padding: {\n        top: 2,\n        bottom: 2,\n        left: 5,\n        right: 5\n      }\n    }\n  }, {\n    name: \"flip\",\n    options: {\n      padding: 5,\n      fallbackPlacements: fallbackPlacements != null ? fallbackPlacements : []\n    }\n  }, {\n    name: \"computeStyles\",\n    options: {\n      gpuAcceleration: gpuAcceleration,\n      adaptive: gpuAcceleration\n    }\n  }];\n}\n\nfunction attachArrow(options, _ref) {\n  var arrowEl = _ref.arrowEl,\n      arrowOffset = _ref.arrowOffset;\n  options.modifiers.push({\n    name: \"arrow\",\n    options: {\n      element: arrowEl,\n      padding: arrowOffset != null ? arrowOffset : 5\n    }\n  });\n}\n\nfunction deriveExtraModifiers(options, modifiers) {\n  if (modifiers) {\n    options.modifiers = [].concat(_toConsumableArray(options.modifiers), _toConsumableArray(modifiers != null ? modifiers : []));\n  }\n}\n\nexport { buildPopperOptions, unwrapMeasurableEl };","map":{"version":3,"mappings":";;;;;AACY,IAACA,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAQC,UAAR,EAAuB;EACvD,IAAQC,SAAR,GAA+CF,KAA/C,CAAQE,SAAR;EAAA,IAAmBC,QAAnB,GAA+CH,KAA/C,CAAmBG,QAAnB;EAAA,IAA6BC,aAA7B,GAA+CJ,KAA/C,CAA6BI,aAA7B;;EACA,IAAMC,OAAO;IACXH,SAAS,EAATA,SADW;IAEXC,QAAQ,EAARA;EAFW,GAGRC,aAHQ;IAIXE,SAAS,EAAEC,YAAY,CAACP,KAAD;EAJZ,EAAb;;EAMAQ,WAAW,CAACH,OAAD,EAAUJ,UAAV,CAAX;EACAQ,oBAAoB,CAACJ,OAAD,EAAUD,aAAa,IAAI,IAAjB,GAAwB,KAAK,CAA7B,GAAiCA,aAAa,CAACE,SAAzD,CAApB;EACA,OAAOD,OAAP;AACF,CAXY;;AAYA,IAACK,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,GAAD,EAAS;EACzC,IAAI,CAACC,QAAL,EACE;EACF,OAAOC,YAAY,CAACF,GAAD,CAAnB;AACF,CAJY;;AAKZ,SAASJ,YAAT,CAAsBF,OAAtB,EAA+B;EAC7B,IAAQS,MAAR,GAAwDT,OAAxD,CAAQS,MAAR;EAAA,IAAgBC,eAAhB,GAAwDV,OAAxD,CAAgBU,eAAhB;EAAA,IAAiCC,kBAAjC,GAAwDX,OAAxD,CAAiCW,kBAAjC;EACA,OAAO,CACL;IACEC,IAAI,EAAE,QADR;IAEEZ,OAAO,EAAE;MACPS,MAAM,EAAE,CAAC,CAAD,EAAIA,MAAM,IAAI,IAAV,GAAiBA,MAAjB,GAA0B,EAA9B;IADD;EAFX,CADK,EAOL;IACEG,IAAI,EAAE,iBADR;IAEEZ,OAAO,EAAE;MACPa,OAAO,EAAE;QACPC,GAAG,EAAE,CADE;QAEPC,MAAM,EAAE,CAFD;QAGPC,IAAI,EAAE,CAHC;QAIPC,KAAK,EAAE;MAJA;IADF;EAFX,CAPK,EAkBL;IACEL,IAAI,EAAE,MADR;IAEEZ,OAAO,EAAE;MACPa,OAAO,EAAE,CADF;MAEPF,kBAAkB,EAAEA,kBAAkB,IAAI,IAAtB,GAA6BA,kBAA7B,GAAkD;IAF/D;EAFX,CAlBK,EAyBL;IACEC,IAAI,EAAE,eADR;IAEEZ,OAAO,EAAE;MACPU,eAAe,EAAfA,eADO;MAEPQ,QAAQ,EAAER;IAFH;EAFX,CAzBK,CAAP;AAiCD;;AACD,SAASP,WAAT,CAAqBH,OAArB,QAAwD;EAAA,IAAxBmB,OAAwB,QAAxBA,OAAwB;EAAA,IAAfC,WAAe,QAAfA,WAAe;EACtDpB,OAAO,CAACC,SAAR,CAAkBoB,IAAlB,CAAuB;IACrBT,IAAI,EAAE,OADe;IAErBZ,OAAO,EAAE;MACPsB,OAAO,EAAEH,OADF;MAEPN,OAAO,EAAEO,WAAW,IAAI,IAAf,GAAsBA,WAAtB,GAAoC;IAFtC;EAFY,CAAvB;AAOD;;AACD,SAAShB,oBAAT,CAA8BJ,OAA9B,EAAuCC,SAAvC,EAAkD;EAChD,IAAIA,SAAJ,EAAe;IACbD,OAAO,CAACC,SAAR,gCAAwBD,OAAO,CAACC,SAAhC,sBAA8CA,SAAS,IAAI,IAAb,GAAoBA,SAApB,GAAgC,EAA9E;EACD;AACH","names":["buildPopperOptions","props","arrowProps","placement","strategy","popperOptions","options","modifiers","genModifiers","attachArrow","deriveExtraModifiers","unwrapMeasurableEl","$el","isClient","unrefElement","offset","gpuAcceleration","fallbackPlacements","name","padding","top","bottom","left","right","adaptive","arrowEl","arrowOffset","push","element"],"sources":["../../../../../../packages/components/popper/src/utils.ts"],"sourcesContent":["import { isClient, unrefElement } from '@vueuse/core'\n\nimport type { ComponentPublicInstance } from 'vue'\nimport type { MaybeRef } from '@vueuse/core'\nimport type { Measurable } from '@element-plus/tokens'\nimport type { UsePopperCoreConfigProps } from './content'\n\ntype ArrowProps = {\n  arrowEl: HTMLElement | undefined\n  arrowOffset: number | undefined\n}\n\nexport const buildPopperOptions = (\n  props: UsePopperCoreConfigProps,\n  arrowProps: ArrowProps\n) => {\n  const { placement, strategy, popperOptions } = props\n  const options = {\n    placement,\n    strategy,\n    ...popperOptions,\n    modifiers: genModifiers(props),\n  }\n\n  attachArrow(options, arrowProps)\n  deriveExtraModifiers(options, popperOptions?.modifiers)\n  return options\n}\n\nexport const unwrapMeasurableEl = (\n  $el: MaybeRef<Measurable | undefined | ComponentPublicInstance>\n) => {\n  if (!isClient) return\n  return unrefElement($el as HTMLElement)\n}\n\nfunction genModifiers(options: UsePopperCoreConfigProps) {\n  const { offset, gpuAcceleration, fallbackPlacements } = options\n  return [\n    {\n      name: 'offset',\n      options: {\n        offset: [0, offset ?? 12],\n      },\n    },\n    {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5,\n        },\n      },\n    },\n    {\n      name: 'flip',\n      options: {\n        padding: 5,\n        fallbackPlacements: fallbackPlacements ?? [],\n      },\n    },\n    {\n      name: 'computeStyles',\n      options: {\n        gpuAcceleration,\n        adaptive: gpuAcceleration,\n      },\n    },\n  ]\n}\n\nfunction attachArrow(options: any, { arrowEl, arrowOffset }: ArrowProps) {\n  options.modifiers.push({\n    name: 'arrow',\n    options: {\n      element: arrowEl,\n      padding: arrowOffset ?? 5,\n    },\n  } as any)\n}\n\nfunction deriveExtraModifiers(\n  options: any,\n  modifiers: UsePopperCoreConfigProps['popperOptions']['modifiers']\n) {\n  if (modifiers) {\n    options.modifiers = [...options.modifiers, ...(modifiers ?? [])]\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
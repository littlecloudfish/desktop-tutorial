{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Input Username\");\n\nvar _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Input Password\");\n\nvar _hoisted_3 = {\n  key: 0\n};\n\nvar _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Login\");\n\nvar _hoisted_5 = /*#__PURE__*/_createTextVNode(\" SignUp \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_base_dialog = _resolveComponent(\"base-dialog\");\n\n  var _component_el_col = _resolveComponent(\"el-col\");\n\n  var _component_el_row = _resolveComponent(\"el-row\");\n\n  var _component_el_input = _resolveComponent(\"el-input\");\n\n  var _component_el_button = _resolveComponent(\"el-button\");\n\n  var _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_base_dialog, {\n    show: !!$data.error,\n    title: \"An error occurred\",\n    onClose: $options.handleError\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"p\", null, _toDisplayString($data.error), 1\n      /* TEXT */\n      )];\n    }),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"show\", \"onClose\"]), _createVNode(_component_el_row, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_col, {\n        span: 24\n      }, {\n        \"default\": _withCtx(function () {\n          return [_hoisted_1];\n        }),\n        _: 1\n        /* STABLE */\n\n      })];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_el_row, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_col, {\n        span: 24\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $data.username,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n              return $data.username = $event;\n            }),\n            placeholder: \"Please input Username\"\n          }, null, 8\n          /* PROPS */\n          , [\"modelValue\"])];\n        }),\n        _: 1\n        /* STABLE */\n\n      })];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_el_row, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_col, {\n        span: 24\n      }, {\n        \"default\": _withCtx(function () {\n          return [_hoisted_2];\n        }),\n        _: 1\n        /* STABLE */\n\n      })];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_el_row, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_col, {\n        span: 24\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_input, {\n            modelValue: $data.password,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n              return $data.password = $event;\n            }),\n            placeholder: \"Please input Password\"\n          }, null, 8\n          /* PROPS */\n          , [\"modelValue\"])];\n        }),\n        _: 1\n        /* STABLE */\n\n      })];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), !$data.validpassword ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \"Username or Password are invalid. Please check your provided data.\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", null, [_createVNode(_component_el_row, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_button, {\n        type: \"Success\",\n        round: \"\",\n        onClick: $options.submitresult\n      }, {\n        \"default\": _withCtx(function () {\n          return [_hoisted_4];\n        }),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"onClick\"]), _createCommentVNode(\" <el-button type=\\\"Success\\\" round @click=\\\"forgetpassword\\\" >Forget Passwords</el-button> \")];\n    }),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_el_row, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_button, {\n        type: \"Success\",\n        round: \"\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_router_link, {\n            to: {\n              name: 'MusicUserRegister'\n            },\n            style: {\n              \"text-decoration\": \"none\",\n              \"color\": \"inherit\"\n            }\n          }, {\n            \"default\": _withCtx(function () {\n              return [_hoisted_5];\n            }),\n            _: 1\n            /* STABLE */\n\n          })];\n        }),\n        _: 1\n        /* STABLE */\n\n      })];\n    }),\n    _: 1\n    /* STABLE */\n\n  })])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;+CAKyB;;+CAQA;;;;;;+CAWsC;;+CAKyC;;;;;;;;;;;;;;;6DA5BpGA,aAEcC,sBAFd,EAEc;IAFAC,IAAI,IAAIC,WAER;IAFeC,KAAK,EAAC,mBAErB;IAF0CC,OAAK,EAAEC;EAEjD,CAFd;wBACI;MAAA,OAAkB,CAAlBC,oBAAkB,GAAlB,EAAkB,IAAlB,EAAkBC,iBAAZL,WAAY,CAAlB,EAAW;MAAA;MAAX,CAAkB,CAAlB;IAAA;;;;GADJ;;EAAA,wBAGAH,aAESS,iBAFT,EAES,IAFT,EAES;wBADP;MAAA,OAA0C,CAA1CT,aAA0CU,iBAA1C,EAA0C;QAAjCC,IAAI,EAAE;MAA2B,CAA1C,EAAiB;4BAAE;UAAA,OAAc,YAAd;QAAA,EAAF;;;;MAAA,CAAjB,CAA0C,CAA1C;IAAA,EACO;;;;EAAA,CAFT,GAGAX,aAISS,iBAJT,EAIS,IAJT,EAIS;wBAHP;MAAA,OAES,CAFTT,aAESU,iBAFT,EAES;QAFAC,IAAI,EAAE;MAEN,CAFT,EAAiB;4BACb;UAAA,OAAmE,CAAnEX,aAAmEY,mBAAnE,EAAmE;wBAAhDT,cAAgD;;qBAAhDA,iBAAQU;cAAwC;YAAtCC,WAAW,EAAC;UAA0B,CAAnE;;UAAA,iBAAmE,CAAnE;QAAA,EADa;;;;MAAA,CAAjB,CAES,CAFT;IAAA,EAGO;;;;EAAA,CAJT,GAKAd,aAESS,iBAFT,EAES,IAFT,EAES;wBADP;MAAA,OAA0C,CAA1CT,aAA0CU,iBAA1C,EAA0C;QAAjCC,IAAI,EAAE;MAA2B,CAA1C,EAAiB;4BAAE;UAAA,OAAc,YAAd;QAAA,EAAF;;;;MAAA,CAAjB,CAA0C,CAA1C;IAAA,EACO;;;;EAAA,CAFT,GAGAX,aAISS,iBAJT,EAIS,IAJT,EAIS;wBAHP;MAAA,OAES,CAFTT,aAESU,iBAFT,EAES;QAFAC,IAAI,EAAE;MAEN,CAFT,EAAiB;4BACb;UAAA,OAAmE,CAAnEX,aAAmEY,mBAAnE,EAAmE;wBAAhDT,cAAgD;;qBAAhDA,iBAAQU;cAAwC;YAAtCC,WAAW,EAAC;UAA0B,CAAnE;;UAAA,iBAAmE,CAAnE;QAAA,EADa;;;;MAAA,CAAjB,CAES,CAFT;IAAA,EAGO;;;;EAAA,CAJT,IAKUX,qCAAVY,oBAA+F,GAA/F,EAA+FC,UAA/F,EAAyB,oEAAzB,wCAEAT,oBAYM,KAZN,EAYM,IAZN,EAYM,CAXJP,aAGSS,iBAHT,EAGS,IAHT,EAGS;wBAFP;MAAA,OAAwE,CAAxET,aAAwEiB,oBAAxE,EAAwE;QAA7DC,IAAI,EAAC,SAAwD;QAA9CC,KAAK,EAAL,EAA8C;QAAvCC,OAAK,EAAEd;MAAgC,CAAxE;4BAAuD;UAAA,OAAK,YAAL;QAAA;;;;OAAvD;;MAAA,cAAwE,EACxEe,kHADwE,CAAxE;IAAA,EAEO;;;;EAAA,CAHT,CAWI,EAPJrB,aAMSS,iBANT,EAMS,IANT,EAMS;wBALP;MAAA,OAIY,CAJZT,aAIYiB,oBAJZ,EAIY;QAJDC,IAAI,EAAC,SAIJ;QAJcC,KAAK,EAAL;MAId,CAJZ;4BACE;UAAA,OAEc,CAFdnB,aAEcsB,sBAFd,EAEc;YAFAC,EAAE,EAAE;cAAAC;YAAA,CAEJ;YAFgCC,KAA8C,EAA9C;cAAA;cAAA;YAAA;UAEhC,CAFd;gCAA8F;cAAA,OAE9F,YAF8F;YAAA;;;;WAA9F,CAEc,CAFd;QAAA;;;;OADF,CAIY,CAJZ;IAAA,EAKO;;;;EAAA,CANT,CAOI,CAZN","names":["_createVNode","_component_base_dialog","show","$data","title","onClose","$options","_createElementVNode","_toDisplayString","_component_el_row","_component_el_col","span","_component_el_input","$event","placeholder","_createElementBlock","_hoisted_3","_component_el_button","type","round","onClick","_createCommentVNode","_component_router_link","to","name","style"],"sourceRoot":"","sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/components/function/login.vue"],"sourcesContent":["<template>\n    <base-dialog :show=\"!!error\" title=\"An error occurred\" @close=\"handleError\">\n        <p>{{ error }}</p>\n    </base-dialog>\n    <el-row>\n      <el-col :span=\"24\">Input Username</el-col>\n    </el-row>\n    <el-row>\n      <el-col :span=\"24\">\n          <el-input v-model=\"username\" placeholder=\"Please input Username\" />\n      </el-col>\n    </el-row>\n    <el-row>\n      <el-col :span=\"24\">Input Password</el-col>\n    </el-row>\n    <el-row>\n      <el-col :span=\"24\">\n          <el-input v-model=\"password\" placeholder=\"Please input Password\" />\n      </el-col>\n    </el-row>\n    <p v-if=\"!validpassword\">Username or Password are invalid. Please check your provided data.</p>\n  \n    <div>\n      <el-row>\n        <el-button type=\"Success\" round @click=\"submitresult\" >Login</el-button>  \n        <!-- <el-button type=\"Success\" round @click=\"forgetpassword\" >Forget Passwords</el-button> -->\n      </el-row>\n      <el-row>\n        <el-button type=\"Success\" round  >\n          <router-link :to=\"{name:'MusicUserRegister'}\" style=\"text-decoration: none; color: inherit;\" >\n          SignUp\n          </router-link>\n        </el-button>  \n      </el-row> \n    </div>\n  </template>\n  \n  <script>\n  export default{\n    data(){\n      return{\n        username: '',\n        validusername:true,\n        password:'',\n        validpassword:true,\n        isloading:false,\n        error: null,\n        mode: 'Login',\n      };\n    },\n    computed:{\n      // submitButtonCaption(){\n      //   if(this.mode === 'Login'){\n      //     return 'Login';\n      //   }else {\n      //     return 'Signup';\n      //   }\n      // },\n    },\n    methods:{\n      async submitresult(){\n          this.isloading = true;\n          const actionPaylod = {\n            username: this.username,\n            password: this.password,\n          };\n          try{\n            await this.$store.dispatch('login',actionPaylod);\n            // if (this.mode === 'Login'){\n            //   await this.$store.dispatch('login',actionPaylod);}\n            // else{\n              // await this.$store.dispatch('signup', actionPayload); redirect to signup \n            // }\n          }catch(err){\n            this.error = err.message || 'Failed to authenticate, try later';\n          }\n          // token if not null then change page\n          if (this.$store.getters.Token != null ){\n            this.$router.push({name: 'MusicUser'});\n          }\n          this.isloading= false;\n  \n    },\n    handleError(){\n      this.error = null;\n    },\n    // forgetpassword(){\n  \n    //   }\n    },\n  }\n  </script>\n  \n  <style lang=\"scss\">\n  .el-row {\n    margin-bottom: 20px;\n  }\n  .el-row:last-child {\n    margin-bottom: 0;\n  }\n  .el-col {\n    border-radius: 4px;\n  }\n  \n  .grid-content {\n    border-radius: 4px;\n    min-height: 36px;\n  }\n  </style>\n  "]},"metadata":{},"sourceType":"module"}
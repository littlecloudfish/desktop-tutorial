{"ast":null,"code":"import { ref, inject, computed } from 'vue';\nimport '../../../constants/index.mjs';\nimport '../../../tokens/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { radioGroupKey } from '../../../tokens/radio.mjs';\nimport { UPDATE_MODEL_EVENT } from '../../../constants/event.mjs';\nimport { useSize, useDisabled } from '../../../hooks/use-common-props/index.mjs';\n\nvar useRadio = function useRadio(props, emit) {\n  var radioRef = ref();\n  var radioGroup = inject(radioGroupKey, void 0);\n  var isGroup = computed(function () {\n    return !!radioGroup;\n  });\n  var modelValue = computed({\n    get: function get() {\n      return isGroup.value ? radioGroup.modelValue : props.modelValue;\n    },\n    set: function set(val) {\n      if (isGroup.value) {\n        radioGroup.changeEvent(val);\n      } else {\n        emit && emit(UPDATE_MODEL_EVENT, val);\n      }\n\n      radioRef.value.checked = props.modelValue === props.label;\n    }\n  });\n  var size = useSize(computed(function () {\n    return radioGroup == null ? void 0 : radioGroup.size;\n  }));\n  var disabled = useDisabled(computed(function () {\n    return radioGroup == null ? void 0 : radioGroup.disabled;\n  }));\n  var focus = ref(false);\n  var tabIndex = computed(function () {\n    return disabled.value || isGroup.value && modelValue.value !== props.label ? -1 : 0;\n  });\n  return {\n    radioRef: radioRef,\n    isGroup: isGroup,\n    radioGroup: radioGroup,\n    focus: focus,\n    size: size,\n    disabled: disabled,\n    tabIndex: tabIndex,\n    modelValue: modelValue\n  };\n};\n\nexport { useRadio };","map":{"version":3,"mappings":";;;;;;;;AAIY,IAACA,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAQC,IAAR,EAAiB;EACvC,IAAMC,QAAQ,GAAGC,GAAG,EAApB;EACA,IAAMC,UAAU,GAAGC,MAAM,CAACC,aAAD,EAAgB,KAAK,CAArB,CAAzB;EACA,IAAMC,OAAO,GAAGC,QAAQ,CAAC;IAAA,OAAM,CAAC,CAACJ,UAAR;EAAA,CAAD,CAAxB;EACA,IAAMK,UAAU,GAAGD,QAAQ,CAAC;IAC1BE,GAD0B,iBACpB;MACJ,OAAOH,OAAO,CAACI,KAAR,GAAgBP,UAAU,CAACK,UAA3B,GAAwCT,KAAK,CAACS,UAArD;IACD,CAHyB;IAI1BG,GAJ0B,eAItBC,GAJsB,EAIjB;MACP,IAAIN,OAAO,CAACI,KAAZ,EAAmB;QACjBP,UAAU,CAACU,WAAX,CAAuBD,GAAvB;MACD,CAFD,MAEO;QACLZ,IAAI,IAAIA,IAAI,CAACc,kBAAD,EAAqBF,GAArB,CAAZ;MACD;;MACDX,QAAQ,CAACS,KAAT,CAAeK,OAAf,GAAyBhB,KAAK,CAACS,UAAN,KAAqBT,KAAK,CAACiB,KAApD;IACD;EAXyB,CAAD,CAA3B;EAaA,IAAMC,IAAI,GAAGC,OAAO,CAACX,QAAQ,CAAC;IAAA,OAAMJ,UAAU,IAAI,IAAd,GAAqB,KAAK,CAA1B,GAA8BA,UAAU,CAACc,IAA/C;EAAA,CAAD,CAAT,CAApB;EACA,IAAME,QAAQ,GAAGC,WAAW,CAACb,QAAQ,CAAC;IAAA,OAAMJ,UAAU,IAAI,IAAd,GAAqB,KAAK,CAA1B,GAA8BA,UAAU,CAACgB,QAA/C;EAAA,CAAD,CAAT,CAA5B;EACA,IAAME,KAAK,GAAGnB,GAAG,CAAC,KAAD,CAAjB;EACA,IAAMoB,QAAQ,GAAGf,QAAQ,CAAC,YAAM;IAC9B,OAAOY,QAAQ,CAACT,KAAT,IAAkBJ,OAAO,CAACI,KAAR,IAAiBF,UAAU,CAACE,KAAX,KAAqBX,KAAK,CAACiB,KAA9D,GAAsE,CAAC,CAAvE,GAA2E,CAAlF;EACD,CAFwB,CAAzB;EAGA,OAAO;IACLf,QAAQ,EAARA,QADK;IAELK,OAAO,EAAPA,OAFK;IAGLH,UAAU,EAAVA,UAHK;IAILkB,KAAK,EAALA,KAJK;IAKLJ,IAAI,EAAJA,IALK;IAMLE,QAAQ,EAARA,QANK;IAOLG,QAAQ,EAARA,QAPK;IAQLd,UAAU,EAAVA;EARK,CAAP;AAUF,CAjCY","names":["useRadio","props","emit","radioRef","ref","radioGroup","inject","radioGroupKey","isGroup","computed","modelValue","get","value","set","val","changeEvent","UPDATE_MODEL_EVENT","checked","label","size","useSize","disabled","useDisabled","focus","tabIndex"],"sources":["../../../../../../packages/components/radio/src/use-radio.ts"],"sourcesContent":["import { computed, inject, ref } from 'vue'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { radioGroupKey } from '@element-plus/tokens'\nimport { useDisabled, useSize } from '@element-plus/hooks'\nimport type { SetupContext } from 'vue'\nimport type { RadioEmits, RadioProps } from './radio'\n\nexport const useRadio = (\n  props: { label: RadioProps['label']; modelValue?: RadioProps['modelValue'] },\n  emit?: SetupContext<RadioEmits>['emit']\n) => {\n  const radioRef = ref<HTMLInputElement>()\n  const radioGroup = inject(radioGroupKey, undefined)\n  const isGroup = computed(() => !!radioGroup)\n  const modelValue = computed<RadioProps['modelValue']>({\n    get() {\n      return isGroup.value ? radioGroup!.modelValue : props.modelValue!\n    },\n    set(val) {\n      if (isGroup.value) {\n        radioGroup!.changeEvent(val)\n      } else {\n        emit && emit(UPDATE_MODEL_EVENT, val)\n      }\n      radioRef.value!.checked = props.modelValue === props.label\n    },\n  })\n\n  const size = useSize(computed(() => radioGroup?.size))\n  const disabled = useDisabled(computed(() => radioGroup?.disabled))\n  const focus = ref(false)\n  const tabIndex = computed(() => {\n    return disabled.value || (isGroup.value && modelValue.value !== props.label)\n      ? -1\n      : 0\n  })\n\n  return {\n    radioRef,\n    isGroup,\n    radioGroup,\n    focus,\n    size,\n    disabled,\n    tabIndex,\n    modelValue,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
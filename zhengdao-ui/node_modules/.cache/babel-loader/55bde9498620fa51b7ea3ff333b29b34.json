{"ast":null,"code":"import _objectSpread from \"/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { defineComponent, ref, computed, reactive, onMounted, h } from 'vue';\nimport { pick } from 'lodash-unified';\nimport { ElSelect } from '../../select/index.mjs';\nimport _Tree from '../../tree/index.mjs';\nimport { useSelect } from './select.mjs';\nimport { useTree } from './tree.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\n\nvar _sfc_main = defineComponent({\n  name: \"ElTreeSelect\",\n  inheritAttrs: false,\n  props: _objectSpread(_objectSpread({}, ElSelect.props), _Tree.props),\n  setup: function setup(props, context) {\n    var slots = context.slots,\n        expose = context.expose;\n    var select = ref();\n    var tree = ref();\n    var key = computed(function () {\n      return props.nodeKey || props.valueKey || \"value\";\n    });\n    var selectProps = useSelect(props, context, {\n      select: select,\n      tree: tree,\n      key: key\n    });\n    var treeProps = useTree(props, context, {\n      select: select,\n      tree: tree,\n      key: key\n    });\n    var methods = reactive({});\n    expose(methods);\n    onMounted(function () {\n      Object.assign(methods, _objectSpread(_objectSpread({}, pick(tree.value, [\"filter\", \"updateKeyChildren\", \"getCheckedNodes\", \"setCheckedNodes\", \"getCheckedKeys\", \"setCheckedKeys\", \"setChecked\", \"getHalfCheckedNodes\", \"getHalfCheckedKeys\", \"getCurrentKey\", \"getCurrentNode\", \"setCurrentKey\", \"setCurrentNode\", \"getNode\", \"remove\", \"append\", \"insertBefore\", \"insertAfter\"])), pick(select.value, [\"focus\", \"blur\"])));\n    });\n    return function () {\n      return h(ElSelect, reactive(_objectSpread(_objectSpread({}, selectProps), {}, {\n        ref: function ref(ref2) {\n          return select.value = ref2;\n        }\n      })), _objectSpread(_objectSpread({}, slots), {}, {\n        \"default\": function _default() {\n          return h(_Tree, reactive(_objectSpread(_objectSpread({}, treeProps), {}, {\n            ref: function ref(ref2) {\n              return tree.value = ref2;\n            }\n          })));\n        }\n      }));\n    };\n  }\n});\n\nvar TreeSelect = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue\"]]);\n\nexport { TreeSelect as default };","map":{"version":3,"mappings":";;;;;;;;;AASA,IAAKA,YAAaC,eAAa;EAC7BC,IAAM,gBADuB;EAG7BC,YAAc,OAHe;EAI7BC,KAAO,kCACFC,QAAS,MADP,GAEFC,KAAO,MAFL,CAJsB;EAQ7BC,KAR6B,iBAQvBH,KARuB,EAQhBI,OARgB,EAQP;IACd,IAAEC,KAAF,GAAoBD,OAApB,CAAEC,KAAF;IAAA,IAASC,MAAT,GAAoBF,OAApB,CAASE,MAAT;IAEN,IAAMC,SAASC,GAAmC,EAAlD;IACA,IAAMC,OAAOD,GAAiC,EAA9C;IAEA,IAAME,MAAMC,QAAS;MAAA,OAAMX,MAAMY,OAAN,IAAiBZ,MAAMa,QAAvB,IAAmC,OAAzC;IAAA,EAArB;IAEM,kBAAcC,UAAUd,KAAV,EAAiBI,OAAjB,EAA0B;MAAEG,MAAQ,EAARA,MAAF;MAAUE,UAAV;MAAgBC;IAAhB,CAA1B,CAAd;IACA,gBAAYK,QAAQf,KAAR,EAAeI,OAAf,EAAwB;MAAEG,MAAQ,EAARA,MAAF;MAAUE,UAAV;MAAgBC;IAAhB,CAAxB,CAAZ;IAGA,cAAUM,QAAS,IAAnB;IACNV,OAAOW,OAAP;IACAC,UAAU,YAAM;MACdC,OAAOC,MAAP,CAAcH,OAAd,kCACKI,IAAK,MAAKC,KAAL,EAAY,CAClB,QADkB,EAElB,mBAFkB,EAGlB,iBAHkB,EAIlB,iBAJkB,EAKlB,gBALkB,EAMlB,gBANkB,EAOlB,YAPkB,EAQlB,qBARkB,EASlB,oBATkB,EAUlB,eAVkB,EAWlB,gBAXkB,EAYlB,eAZkB,EAalB,gBAbkB,EAclB,SAdkB,EAelB,QAfkB,EAgBlB,QAhBkB,EAiBlB,cAjBkB,EAkBlB,aAlBkB,CAAZ,CADV,GAqBKD,IAAK,QAAOC,KAAP,EAAc,CAAC,OAAD,EAAU,MAAV,CAAd,CArBV;IAuBD,CAxBD;IA0BO;MAAA,OACLC,CACE,WAQAP,QAAS,iCACJQ,WADI;QAEPhB,GAAK,eAACiB,IAAD;UAAA,OAAUlB,OAAOe,KAAP,GAAeG,IAAzB;QAAA;MAFE,GART,kCAaKpB,KAbL;QAcE,WAAS;UAAA,OACPkB,CACE,QACAP,QAAS,iCACJU,SADI;YAEPlB,GAAK,eAACiB,IAAD;cAAA,OAAUhB,KAAKa,KAAL,GAAaG,IAAvB;YAAA;UAFE,GADT,CAFK;QAAA;MAdX,GAFG;IAAA;EA0BT;AA1E6B,EAA/B","names":["_sfc_main","defineComponent","name","inheritAttrs","props","ElSelect","ElTree","setup","context","slots","expose","select","ref","tree","key","computed","nodeKey","valueKey","useSelect","useTree","reactive","methods","onMounted","Object","assign","pick","value","h","selectProps","ref2","treeProps"],"sources":["../../../../../../packages/components/tree-select/src/tree-select.vue"],"sourcesContent":["<script lang=\"ts\">\n// @ts-nocheck\nimport { computed, defineComponent, h, onMounted, reactive, ref } from 'vue'\nimport { pick } from 'lodash-unified'\nimport ElSelect from '@element-plus/components/select'\nimport ElTree from '@element-plus/components/tree'\nimport { useSelect } from './select'\nimport { useTree } from './tree'\n\nexport default defineComponent({\n  name: 'ElTreeSelect',\n  // disable `ElSelect` inherit current attrs\n  inheritAttrs: false,\n  props: {\n    ...ElSelect.props,\n    ...ElTree.props,\n  },\n  setup(props, context) {\n    const { slots, expose } = context\n\n    const select = ref<InstanceType<typeof ElSelect>>()\n    const tree = ref<InstanceType<typeof ElTree>>()\n\n    const key = computed(() => props.nodeKey || props.valueKey || 'value')\n\n    const selectProps = useSelect(props, context, { select, tree, key })\n    const treeProps = useTree(props, context, { select, tree, key })\n\n    // expose ElTree/ElSelect methods\n    const methods = reactive({})\n    expose(methods)\n    onMounted(() => {\n      Object.assign(methods, {\n        ...pick(tree.value, [\n          'filter',\n          'updateKeyChildren',\n          'getCheckedNodes',\n          'setCheckedNodes',\n          'getCheckedKeys',\n          'setCheckedKeys',\n          'setChecked',\n          'getHalfCheckedNodes',\n          'getHalfCheckedKeys',\n          'getCurrentKey',\n          'getCurrentNode',\n          'setCurrentKey',\n          'setCurrentNode',\n          'getNode',\n          'remove',\n          'append',\n          'insertBefore',\n          'insertAfter',\n        ]),\n        ...pick(select.value, ['focus', 'blur']),\n      })\n    })\n\n    return () =>\n      h(\n        ElSelect,\n        /**\n         * 1. The `props` is processed into `Refs`, but `v-bind` and\n         * render function props cannot read `Refs`, so use `reactive`\n         * unwrap the `Refs` and keep reactive.\n         * 2. The keyword `ref` requires `Ref`, but `reactive` broke it,\n         * so use function.\n         */\n        reactive({\n          ...selectProps,\n          ref: (ref) => (select.value = ref),\n        }),\n        {\n          ...slots,\n          default: () =>\n            h(\n              ElTree,\n              reactive({\n                ...treeProps,\n                ref: (ref) => (tree.value = ref),\n              })\n            ),\n        }\n      )\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}
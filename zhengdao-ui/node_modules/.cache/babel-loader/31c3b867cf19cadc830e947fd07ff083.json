{"ast":null,"code":"import _regeneratorRuntime from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  registeruser: function registeruser(context) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var token;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              token = context.rootgetters.Token; // console.log('token info'+token);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  userlist: function userlist(context, payload) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var backapi, usernumber, errmes;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              backapi = 'http://127.0.0.1:1943';\n              usernumber = payload;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return axios({\n                method: 'get',\n                url: backapi + '/listofuser/' + usernumber\n              }).then(function (response) {\n                context.commit('setlistofUser', {\n                  listofuser: response.data\n                });\n              });\n\n            case 5:\n              errmes = _context2.sent;\n              _context2.next = 16;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](2);\n\n              if (!(_context2.t0.message == 'Request failed with status code 401')) {\n                _context2.next = 15;\n                break;\n              }\n\n              console.log('called if');\n              throw {\n                message: \"Wrong password or username\",\n                number: 1000\n              };\n\n            case 15:\n              throw _context2.t0;\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 8]]);\n    }))();\n  },\n  personinfo: function personinfo(context, payload) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var backapi, usernumber, errmes;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              backapi = 'http://127.0.0.1:1943';\n              usernumber = payload;\n              _context3.prev = 2;\n              _context3.next = 5;\n              return axios({\n                method: 'get',\n                url: backapi + '/userinfo/' + usernumber\n              }).then(function (response) {\n                context.commit('setpersoninfo', {\n                  listofuser: response.data\n                });\n              });\n\n            case 5:\n              errmes = _context3.sent;\n              _context3.next = 16;\n              break;\n\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](2);\n\n              if (!(_context3.t0.message == 'Request failed with status code 401')) {\n                _context3.next = 15;\n                break;\n              }\n\n              console.log('called if');\n              throw {\n                message: \"Wrong password or username\",\n                number: 1000\n              };\n\n            case 15:\n              throw _context3.t0;\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 8]]);\n    }))();\n  },\n  personmusic: function personmusic(context, payload) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      var backapi, searchtype, errmes;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              backapi = 'http://127.0.0.1:1943';\n              searchtype = payload;\n              _context4.prev = 2;\n              _context4.next = 5;\n              return axios({\n                method: 'get',\n                url: backapi + '/records/' + searchtype\n              }).then(function (response) {\n                context.commit('serpersonmusic', {\n                  listofuser: response.data\n                });\n              });\n\n            case 5:\n              errmes = _context4.sent;\n              _context4.next = 16;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](2);\n\n              if (!(_context4.t0.message == 'Request failed with status code 401')) {\n                _context4.next = 15;\n                break;\n              }\n\n              console.log('called if');\n              throw {\n                message: \"Wrong password or username\",\n                number: 1000\n              };\n\n            case 15:\n              throw _context4.t0;\n\n            case 16:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[2, 8]]);\n    }))();\n  }\n};","map":{"version":3,"names":["axios","registeruser","context","token","rootgetters","Token","userlist","payload","backapi","usernumber","method","url","then","response","commit","listofuser","data","errmes","message","console","log","number","personinfo","personmusic","searchtype"],"sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/store/modules/userinfo/actions.js"],"sourcesContent":["import axios from 'axios'\n\nexport default{\n    async registeruser(context){\n        const token = context.rootgetters.Token;\n        // console.log('token info'+token);\n    },\n    async userlist(context, payload){\n        const backapi = 'http://127.0.0.1:1943';\n        const usernumber = payload;\n        try{\n            const errmes =await axios({\n                method: 'get',\n                url: backapi+'/listofuser/'+usernumber\n            }\n            ).then(function(response){\n\n                context.commit('setlistofUser',{\n                    listofuser : response.data,\n                });\n\n            });\n        }catch(err){\n            if (err.message == 'Request failed with status code 401'){\n                console.log('called if');\n                throw { message : \"Wrong password or username\" , number: 1000};\n            }\n            else {\n                throw err;\n            }\n        }\n    },\n    async personinfo(context, payload){\n        const backapi = 'http://127.0.0.1:1943';\n        const usernumber = payload;\n        try{\n            const errmes =await axios({\n                method: 'get',\n                url: backapi+'/userinfo/'+usernumber\n            }\n            ).then(function(response){\n\n                context.commit('setpersoninfo',{\n                    listofuser : response.data,\n                });\n\n            });\n        }catch(err){\n            if (err.message == 'Request failed with status code 401'){\n                console.log('called if');\n                throw { message : \"Wrong password or username\" , number: 1000};\n            }\n            else {\n                throw err;\n            }\n        }\n    },\n    async personmusic(context, payload){\n        const backapi = 'http://127.0.0.1:1943';\n        const searchtype = payload;\n        try{\n            const errmes =await axios({\n                method: 'get',\n                url: backapi+'/records/'+searchtype\n            }\n            ).then(function(response){\n\n                context.commit('serpersonmusic',{\n                    listofuser : response.data,\n                });\n\n            });\n        }catch(err){\n            if (err.message == 'Request failed with status code 401'){\n                console.log('called if');\n                throw { message : \"Wrong password or username\" , number: 1000};\n            }\n            else {\n                throw err;\n            }\n        }\n    },\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
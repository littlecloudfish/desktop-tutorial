{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Vue 3 and Fetch Example\", -1\n/* HOISTED */\n);\n\nvar _hoisted_2 = {\n  key: 0\n};\n\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, null, -1\n/* HOISTED */\n);\n\nvar _hoisted_4 = {\n  key: 1\n};\nvar _hoisted_5 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"template\", null, [!$setup.loading && $setup.data && $setup.data.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.data, function (post) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: post.id\n    }, [_createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, _toDisplayString(post.id), 1\n    /* TEXT */\n    )]), _hoisted_3]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true), $setup.loading ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \" Still loading.. \")) : _createCommentVNode(\"v-if\", true), $setup.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5)) : _createCommentVNode(\"v-if\", true)])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;8BACAA,oBAAgC,IAAhC,EAAgC,IAAhC,EAAI,yBAAJ,EAA2B;AAAA;AAA3B;;;;;;8BAKMA,oBAAO,GAAP,EAAO,IAAP,EAAO,IAAP,EAAO;AAAA;AAAP;;;;;;;;;6DALNC,YACAD,oBAiBW,UAjBX,EAiBW,IAjBX,EAiBW,EAhBEE,kBAAWA,eAAQA,YAAKC,wBAAnCC,oBAKK,IALL,EAKKC,UALL,EAKK,oBAJHD,oBAGKE,SAHL,EAGK,IAHL,EAGKC,YAHcL,WAGd,EAHkB,UAAZM,IAAY,EAAR;yBAAfJ,oBAGK,IAHL,EAGK;MAHqBK,GAAG,EAAED,IAAI,CAACE;IAG/B,CAHL,GACEV,oBAAmC,GAAnC,EAAmC,IAAnC,EAAmC,CAAhCA,oBAA4B,QAA5B,EAA4B,IAA5B,EAA4BW,iBAAlBH,IAAI,CAACE,EAAa,CAA5B,EAAiB;IAAA;IAAjB,CAAgC,CAAnC,GACAE,WAFF;GAGK,CAHL;;EAAA,CAIG,EALL,sCAgBS,EATAV,gCAATE,oBAEI,GAFJ,EAEIS,UAFJ,EAAkB,mBAAlB,sCASS,EANAX,8BAATE,oBAGI,GAHJ,EAGIU,UAHJ,sCAMS,CAjBX","names":["_createElementVNode","_hoisted_1","$setup","length","_createElementBlock","_hoisted_2","_Fragment","_renderList","post","key","id","_toDisplayString","_hoisted_3","_hoisted_4","_hoisted_5"],"sourceRoot":"","sources":["/home/little/Documents/music_web/backandfrontsep/zhengdao-ui/src/components/Posts.vue"],"sourcesContent":["<template>\n<h1>Vue 3 and Fetch Example</h1>\n<template>\n  <ul v-if=\"!loading && data && data.length\">\n    <li v-for=\"post of data\" :key=\"post.id\">\n      <p><strong>{{post.id}}</strong></p>\n      <p></p>\n    </li>\n  </ul>\n\n  <p v-if=\"loading\">\n   Still loading..\n  </p>\n  <p v-if=\"error\">\n\n\n  </p>\n\n\n</template>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from \"vue\";\nexport default {\n  name: 'Posts',\n  props: {\n  },\n  setup() {\n    const data = ref(null);\n    const loading = ref(true);\n    const error = ref(null);\n\n    function fetchData() {\n        loading.value = true;\n        // I prefer to use fetch\n        // you can use use axios as an alternative\n        return fetch('http://jsonplaceholder.typicode.com/posts', {\n            method: 'get',\n            headers: {\n            'content-type': 'application/json'\n            }\n        })\n            .then(res => {\n            // a non-200 response code\n            if (!res.ok) {\n                // create error instance with HTTP status text\n                const error = new Error(res.statusText);\n                error.json = res.json();\n                throw error;\n            }\n\n            return res.json();\n            })\n            .then(json => {\n            // set the response data\n            data.value = json.data;\n            })\n            .catch(err => {\n            error.value = err;\n            // In case a custom JSON error response was provided\n            if (err.json) {\n                return err.json.then(json => {\n                // set the JSON response message\n                error.value.message = json.message;\n                });\n            }\n            })\n            .then(() => {\n            loading.value = false;\n            });\n}\n\n    onMounted(() => {\n      fetchData();\n    });\n\n    return {\n      data,\n      loading,\n      error\n    };\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}
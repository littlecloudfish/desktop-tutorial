{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      musicname: '',\n      validmusicname: true,\n      musiclink: '',\n      validmusiclink: true,\n      musiclyrics: '',\n      validelyrics: true,\n      musicperformer: '',\n      validmusicperformer: true,\n      releasedate: '',\n      error: null,\n      value1: null\n    };\n  },\n\n  methods: {\n    // async submitresult(){\n    //   const fd = new FormData();\n    //   fd.append('pic', this.selectedFile, this.selectedFile.name)\n    //   fd.append('mp3', this.musicfile, this.musicfile.name)\n    //   try{\n    //     await this.$store.dispatch('request/uploadmusic',fd);\n    //   }catch(err){\n    //     this.error = err.message || \"Fail to enter try again\";\n    //   };\n    async submitresult() {\n      console.log(this.musiclyrics); //   const fd = new FormData();\n      //   fd.append('pic', this.selectedFile, this.selectedFile.name)\n      //   fd.append('mp3', this.musicfile, this.musicfile.name)\n      //   fd.append('musicname',this.musicname)\n      //   fd.append('releasedate',this.value1)\n      //   try{\n      //     await this.$store.dispatch('request/uploadmusic',fd);\n      //   }catch(err){\n      //     this.error = err.message || \"Fail to enter try again\";\n      //   }\n    },\n\n    onFileSelected(event) {\n      this.selectedFile = event.target.files[0];\n    },\n\n    onMusicFileSelected(event) {\n      this.musicfile = event.target.files[0]; //not sure 0 or 1\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgGE,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAc;EACZC,IAAI,GAAE;IACJ,OAAM;MACJC,SAAS,EAAE,EADP;MAEJC,cAAc,EAAC,IAFX;MAGJC,SAAS,EAAC,EAHN;MAIJC,cAAc,EAAC,IAJX;MAKJC,WAAW,EAAC,EALR;MAMJC,YAAY,EAAC,IANT;MAOJC,cAAc,EAAC,EAPX;MAQJC,mBAAmB,EAAC,IARhB;MASJC,WAAW,EAAC,EATR;MAUJC,KAAK,EAAE,IAVH;MAWJC,MAAM,EAAE;IAXJ,CAAN;EAaD,CAfW;;EAgBZC,OAAO,EAAC;IACN;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,MAAMC,YAAN,GAAoB;MAClBC,OAAO,CAACC,GAAR,CAAY,KAAKV,WAAjB,EADkB,CAElB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACD,CAtBK;;IAuBNW,cAAc,CAACC,KAAD,EAAO;MACb,KAAKC,YAAL,GAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB;IACH,CAzBC;;IA0BNC,mBAAmB,CAACJ,KAAD,EAAO;MACtB,KAAKK,SAAL,GAAiBL,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB,CADsB,CACkB;IAC3C;;EA5BK;AAhBI,CAAd","names":["axios","data","musicname","validmusicname","musiclink","validmusiclink","musiclyrics","validelyrics","musicperformer","validmusicperformer","releasedate","error","value1","methods","submitresult","console","log","onFileSelected","event","selectedFile","target","files","onMusicFileSelected","musicfile"],"sourceRoot":"","sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/components/function/uploadui.vue"],"sourcesContent":["<template>\n    <h2>Upload Music</h2>\n    <form>\n      <div>\n        <el-row>\n          <el-col :span=\"24\">Input Music Name</el-col>\n          <el-col :span=\"20\">\n              <el-input v-model.trim=\"musicname\" placeholder=\"Please input Music Name\" />\n          </el-col>\n        </el-row>\n      </div>\n      <div>\n        <el-row>\n          <el-col :span=\"24\">Input Music Link</el-col>\n          <el-col :span=\"20\">\n              <el-input v-model=\"musiclink\" placeholder=\"Please input Music Link\" />\n          </el-col>\n        </el-row>\n      </div> \n         <el-row>\n          <el-col :span=\"24\">Input Music Performers</el-col>\n          <el-col :span=\"24\">\n              <el-input v-model=\"musicperformer\" placeholder=\"Please input Performers\" />\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">Input Music Composer</el-col>\n          <el-col :span=\"24\">\n              <el-input v-model=\"input\" placeholder=\"Please input Composer\" />\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">Input Music Editor</el-col>\n          <el-col :span=\"24\">\n              <el-input v-model=\"input\" placeholder=\"Please input Editor\" />\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">Input Music Songwriter</el-col>\n          <el-col :span=\"24\">\n              <el-input v-model=\"input\" placeholder=\"Please input Songwriter\" />\n          </el-col>\n          <el-col :span=\"24\">Input Music Producer</el-col>\n          <el-col :span=\"24\">\n              <el-input v-model=\"input\" placeholder=\"Please input Producer\" />\n          </el-col>\n        </el-row>\n       <div>\n        <el-row>\n          <el-col :span=\"24\">Input Music Release Date</el-col>\n          \n        <div class=\"demo-date-picker\">\n          <div class=\"block\">\n            <el-date-picker\n              v-model=\"value1\"\n              type=\"date\"\n              placeholder=\"Pick a day\"\n              size=\"large\"\n              format=\"YYYY/MM/DD\"\n              value-format=\"YYYY-MM-DD\"\n            />\n          </div>\n        </div>\n        </el-row>\n      </div>\n      <div>\n        <el-row>\n          <el-col :span=\"24\">Input Music Lyrics</el-col>\n          <el-col :span=\"20\">\n            <el-input v-model=\"musiclyrics\" \n              :autosize=\"{ minRows: 5, maxRows: 100 }\"\n              placeholder=\"Please Input Lyrics\"\n              type=\"textarea\"\n               />\n          </el-col>\n        </el-row>\n      </div>\n      <div>\n        <el-row>\n          <el-col :span=\"24\">Input Music Cover Picture</el-col>\n          <input type=\"file\"  @change=\"onFileSelected\">\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">Input Music Mp3 file</el-col>\n          <input type=\"file\" @change=\"onMusicFileSelected\">\n        </el-row>\n      </div>\n      <div>\n        <el-row>\n          <el-button type=\"primary\" round @click=\"submitresult\" >Submit</el-button>  \n        </el-row>\n      </div>\n    </form>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default{\n    data(){\n      return{\n        musicname: '',\n        validmusicname:true,\n        musiclink:'',\n        validmusiclink:true,\n        musiclyrics:'',\n        validelyrics:true,\n        musicperformer:'',\n        validmusicperformer:true,\n        releasedate:'',\n        error: null,\n        value1: null,\n      };\n    },\n    methods:{\n      // async submitresult(){\n      //   const fd = new FormData();\n      //   fd.append('pic', this.selectedFile, this.selectedFile.name)\n      //   fd.append('mp3', this.musicfile, this.musicfile.name)\n      //   try{\n      //     await this.$store.dispatch('request/uploadmusic',fd);\n      //   }catch(err){\n      //     this.error = err.message || \"Fail to enter try again\";\n      //   };\n      async submitresult(){\n        console.log(this.musiclyrics)\n        //   const fd = new FormData();\n        //   fd.append('pic', this.selectedFile, this.selectedFile.name)\n        //   fd.append('mp3', this.musicfile, this.musicfile.name)\n        //   fd.append('musicname',this.musicname)\n        //   fd.append('releasedate',this.value1)\n        //   try{\n        //     await this.$store.dispatch('request/uploadmusic',fd);\n        //   }catch(err){\n        //     this.error = err.message || \"Fail to enter try again\";\n        //   }\n      },\n      onFileSelected(event){\n              this.selectedFile = event.target.files[0]\n          },\n      onMusicFileSelected(event){\n          this.musicfile = event.target.files[0]  //not sure 0 or 1\n      },\n  \n      },\n  \n  };\n  </script>\n  \n  <style lang=\"scss\">\n  .el-row {\n    margin-bottom: 3px;\n  }\n  .el-row:last-child {\n    margin-bottom: 0;\n  }\n  .el-col {\n    color:bisque ;\n    padding-top: 0px;\n    padding-bottom: 0px;;\n  }\n  .el-input{\n    padding-bottom: 0px;\n    padding-top:0px;\n  }\n  .grid-content {\n    border-radius: 4px;\n    min-height: 36px;\n  }\n  </style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/little/Documents/music_web/startproj/zhengdao-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  musicinfo: function musicinfo(context, payload) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var backapi, musicnumber, errmes;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              backapi = 'http://127.0.0.1:1943';\n              musicnumber = 1;\n              _context.prev = 2;\n              _context.next = 5;\n              return axios({\n                method: 'get',\n                url: backapi + '/music/' + musicnumber\n              }).then(function (response) {\n                // context.commit('setMusic',{\n                //     musicid,\n                //     cover_address,\n                //     music_address,\n                //     musicname,\n                //     post_date,\n                //     user_id\n                // });\n                console.log(response.data);\n              });\n\n            case 5:\n              errmes = _context.sent;\n              _context.next = 16;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n\n              if (!(_context.t0.message == 'Request failed with status code 401')) {\n                _context.next = 15;\n                break;\n              }\n\n              console.log('called if');\n              throw {\n                message: \"Wrong password or username\",\n                number: 1000\n              };\n\n            case 15:\n              throw _context.t0;\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 8]]);\n    }))();\n  }\n}; // }).then((response) => {\n//     context.commit('setUser',{\n//         token: response.data.access_token,\n//         userId: payload.username,\n//     });\n// 0\n// : \n// cover_address\n// : \n// \"/demopicture/example.png\"\n// id\n// : \n// 1\n// music_address\n// : \n// \"/DEMOMUSIC/crimanal.mp3\"\n// name\n// : \n// \"crimanal\"\n// post_date\n// : \n// \"2022-08-17T20:13:19\"\n// user_id\n// : \n// 1\n// [[Prototype]]\n// : \n// Object\n// length\n// : \n// 1\n// [[Prototype]]\n// : \n// Array(0)","map":{"version":3,"names":["axios","musicinfo","context","payload","backapi","musicnumber","method","url","then","response","console","log","data","errmes","message","number"],"sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/store/modules/music/actions.js"],"sourcesContent":["import axios from 'axios';\n\nexport default{\n    async musicinfo(context, payload){\n    const backapi = 'http://127.0.0.1:1943';\n    const musicnumber = 1;\n    try{\n        const errmes =await axios({\n            method: 'get',\n            url: backapi+'/music/'+musicnumber\n        }\n        ).then(function(response){\n            // context.commit('setMusic',{\n            //     musicid,\n            //     cover_address,\n            //     music_address,\n            //     musicname,\n            //     post_date,\n            //     user_id\n            // });\n            console.log(response.data);\n        });\n    }catch(err){\n        if (err.message == 'Request failed with status code 401'){\n            console.log('called if');\n            throw { message : \"Wrong password or username\" , number: 1000};\n        }\n        else {\n            throw err;\n        }\n    }\n    },\n}\n         \n        // }).then((response) => {\n        //     context.commit('setUser',{\n        //         token: response.data.access_token,\n        //         userId: payload.username,\n        //     });\n        // 0\n        // : \n        // cover_address\n        // : \n        // \"/demopicture/example.png\"\n        // id\n        // : \n        // 1\n        // music_address\n        // : \n        // \"/DEMOMUSIC/crimanal.mp3\"\n        // name\n        // : \n        // \"crimanal\"\n        // post_date\n        // : \n        // \"2022-08-17T20:13:19\"\n        // user_id\n        // : \n        // 1\n        // [[Prototype]]\n        // : \n        // Object\n        // length\n        // : \n        // 1\n        // [[Prototype]]\n        // : \n        // Array(0)"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAc;EACJC,SADI,qBACMC,OADN,EACeC,OADf,EACuB;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAC3BC,OAD2B,GACjB,uBADiB;cAE3BC,WAF2B,GAEb,CAFa;cAAA;cAAA;cAAA,OAITL,KAAK,CAAC;gBACtBM,MAAM,EAAE,KADc;gBAEtBC,GAAG,EAAEH,OAAO,GAAC,SAAR,GAAkBC;cAFD,CAAD,CAAL,CAIlBG,IAJkB,CAIb,UAASC,QAAT,EAAkB;gBACrB;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACAC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;cACH,CAdmB,CAJS;;YAAA;cAIvBC,MAJuB;cAAA;cAAA;;YAAA;cAAA;cAAA;;cAAA,MAoBzB,YAAIC,OAAJ,IAAe,qCApBU;gBAAA;gBAAA;cAAA;;cAqBzBJ,OAAO,CAACC,GAAR,CAAY,WAAZ;cArByB,MAsBnB;gBAAEG,OAAO,EAAG,4BAAZ;gBAA2CC,MAAM,EAAE;cAAnD,CAtBmB;;YAAA;cAAA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EA4BhC;AA7BS,CAAd,C,CAgCQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"class t {\n  constructor() {\n    this.__map = {};\n  }\n\n  beforeEach(t) {\n    this.__interceptor = t;\n  }\n\n  on(t, i) {\n    const s = Array.isArray(t) ? t : [t];\n\n    for (const t of s) {\n      this.__map[t] = this.__map[t] || [];\n      const s = this.__map[t];\n      s && s.push(i);\n    }\n\n    return this;\n  }\n\n  emit(t, i, s) {\n    void 0 !== this.__interceptor ? this.__interceptor(t, () => {\n      this.__emit(t, i), s && s();\n    }) : (this.__emit(t, i), s && s());\n  }\n\n  __emit(t, i) {\n    const s = this.__map[t];\n    if (Array.isArray(s) && (null == s ? void 0 : s.length)) for (const _ of s) _(i, t);\n    this.event = i;\n  }\n\n  off(t, i) {\n    const s = this.__map[t];\n    if (void 0 !== s) if (void 0 === i) delete this.__map[t];else {\n      const t = s.findIndex(t => t === i);\n      s.splice(t, 1);\n    }\n  }\n\n  destroy() {\n    this.__map = {};\n  }\n\n}\n\nexport { t as default };","map":{"version":3,"mappings":"MA2BqBA;EAArBC;IAEYC,aAAkD,EAAlDA;EAaRC;;EAAAA,WAAWC,CAAXD,EAAWC;IACPF,KAAKG,aAALH,GAAqBE,CAArBF;EAQJI;;EAAAA,GAAsCC,CAAtCD,EAAgEE,CAAhEF,EAAgEE;IAC5D,MAAMC,IAAQC,MAAMC,OAAND,CAAcH,CAAdG,IAA6BH,CAA7BG,GAA2C,CAACH,CAAD,CAAzD;;IACA,KAAK,MAAMK,CAAX,IAAmBH,CAAnB,EAA0B;MACtBP,KAAKW,KAALX,CAAWU,CAAXV,IAAmBA,KAAKW,KAALX,CAAWU,CAAXV,KAAoB,EAAvCA;MACA,MAAMY,IAAYZ,KAAKW,KAALX,CAAWU,CAAXV,CAAlB;MACIY,KACAA,EAAUC,IAAVD,CAAeN,CAAfM,CADAA;IAIR;;IAAA,OAAOZ,IAAP;EASJc;;EAAAA,KAAwCJ,CAAxCI,EAAmDC,CAAnDD,EAAmFE,CAAnFF,EAAmFE;IAAAA,KAC3E,CAD2EA,KAChEhB,KAAKG,aAD2Da,GAE3EhB,KAAKG,aAALH,CAAmBU,CAAnBV,EAAyB;MACrBA,KAAKiB,MAALjB,CAAuCU,CAAvCV,EAA6Ce,CAA7Cf,GACAgB,KAAYA,GADZhB;IACYgB,CAFhBhB,CAF2EgB,IAO3EhB,KAAKiB,MAALjB,CAAuCU,CAAvCV,EAA6Ce,CAA7Cf,GACAgB,KAAYA,GAR+DA;EAY3EC;;EAAAA,OAAkDP,CAAlDO,EAA6DC,CAA7DD,EAA6DC;IACjE,MAAMN,IAAYZ,KAAKW,KAALX,CAAWU,CAAXV,CAAlB;IACA,IAAIQ,MAAMC,OAAND,CAAcI,CAAdJ,MAA4BI,uBAAWO,MAAvCX,CAAJ,EACI,KAAK,MAAMF,CAAX,IAAuBM,CAAvB,EACIN,EAASY,CAATZ,EAAeI,CAAfJ;IAGRN,KAAKkB,KAALlB,GAAakB,CAAblB;EAUJoB;;EAAAA,IAAuCV,CAAvCU,EAAkDd,CAAlDc,EAAkDd;IAC9C,MAAMM,IAAYZ,KAAKW,KAALX,CAAWU,CAAXV,CAAlB;IAEA,SAAI,CAAJ,KAAeY,CAAf,EAEI,SAAI,CAAJ,KAAeN,CAAf,EAAeA,OACJN,KAAKW,KAALX,CAAWU,CAAXV,CADIM,CAAf,KAIK;MACD,MAAMe,IAAQT,EAAUU,SAAVV,CAAoBW,KAAMA,MAAOjB,CAAjCM,CAAd;MACAA,EAAUY,MAAVZ,CAAiBS,CAAjBT,EAAwB,CAAxBA;IAAwB;EAQpCa;;EAAAA;IACIzB,KAAKW,KAALX,GAAa,EAAbA;EAAa;;AA3FAF;;AA2FA","names":["AnyEvent","constructor","this","beforeEach","interceptor","__interceptor","on","typeOrTypes","listener","types","Array","isArray","type","__map","listeners","push","emit","payload","callback","__emit","event","length","off","index","findIndex","cb","splice","destroy"],"sources":["../../../../packages/any-event/src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}
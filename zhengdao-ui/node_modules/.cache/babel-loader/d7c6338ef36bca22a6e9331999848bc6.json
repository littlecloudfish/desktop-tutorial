{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nexport default {\n  data: function data() {\n    return {\n      musicname: '',\n      validmusicname: true,\n      musiclink: '',\n      validmusiclink: true,\n      musiclyrics: '',\n      validelyrics: true,\n      musicperformer: '',\n      validmusicperformer: true,\n      releasedate: '',\n      error: null\n    };\n  },\n  methods: {\n    submitresult: function submitresult() {\n      this.validmusicname = true;\n    },\n    onFileSelected: function onFileSelected(event) {\n      this.selectedFile = event.target.files[0];\n      console.log(this.selectedFile.name);\n    },\n    onMusicFileSelected: function onMusicFileSelected(event) {\n      this.musicfile = event.target.files[0]; //not sure 0 or 1\n\n      console.log(this.musicfile.name);\n    },\n    onUploadFile: function onUploadFile() {\n      var fd = new FormData();\n      fd.append('pic', this.selectedFile, this.selectedFile.name);\n      fd.append('mp3', this.musicfile, this.musicfile.name);\n      axios.post('http://127.0.0.1:1943/uploadimg', fd).then(function (res) {\n        console.log(res);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAmGA,eAAc;EACZA,IADY,kBACN;IACJ,OAAM;MACJC,SAAS,EAAE,EADP;MAEJC,cAAc,EAAC,IAFX;MAGJC,SAAS,EAAC,EAHN;MAIJC,cAAc,EAAC,IAJX;MAKJC,WAAW,EAAC,EALR;MAMJC,YAAY,EAAC,IANT;MAOJC,cAAc,EAAC,EAPX;MAQJC,mBAAmB,EAAC,IARhB;MASJC,WAAW,EAAC,EATR;MAUJC,KAAK,EAAE;IAVH,CAAN;EAYD,CAdW;EAeZC,OAAO,EAAC;IACNC,YADM,0BACQ;MACZ,KAAKV,cAAL,GAAsB,IAAtB;IAID,CANK;IAONW,cAPM,0BAOSC,KAPT,EAOe;MACb,KAAKC,YAAL,GAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB;MACAC,OAAO,CAACC,GAAR,CAAY,KAAKJ,YAAL,CAAkBK,IAA9B;IACH,CAVC;IAWNC,mBAXM,+BAWcP,KAXd,EAWoB;MACtB,KAAKQ,SAAL,GAAiBR,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAjB,CADsB,CACkB;;MACxCC,OAAO,CAACC,GAAR,CAAY,KAAKG,SAAL,CAAeF,IAA3B;IACH,CAdK;IAeNG,YAfM,0BAeQ;MACV,IAAMC,EAAC,GAAI,IAAIC,QAAJ,EAAX;MACAD,EAAE,CAACE,MAAH,CAAU,KAAV,EAAiB,KAAKX,YAAtB,EAAoC,KAAKA,YAAL,CAAkBK,IAAtD;MACAI,EAAE,CAACE,MAAH,CAAU,KAAV,EAAiB,KAAKJ,SAAtB,EAAiC,KAAKA,SAAL,CAAeF,IAAhD;MACAO,KAAK,CAACC,IAAN,CAAW,iCAAX,EAA6CJ,EAA7C,EAAiDK,IAAjD,CAAsD,aAAE,EAAK;QACzDX,OAAO,CAACC,GAAR,CAAYW,GAAZ;MACH,CAFD;IAGH;EAtBK;AAfI,CAAd","names":["data","musicname","validmusicname","musiclink","validmusiclink","musiclyrics","validelyrics","musicperformer","validmusicperformer","releasedate","error","methods","submitresult","onFileSelected","event","selectedFile","target","files","console","log","name","onMusicFileSelected","musicfile","onUploadFile","fd","FormData","append","axios","post","then","res"],"sourceRoot":"","sources":["/home/little/Documents/music_web/startproj/zhengdao-ui/src/views/User/MusicUserUpload.vue"],"sourcesContent":["<template>\n  <h2>Upload Music</h2>\n  <form>\n    <div>\n      <el-row>\n        <el-col :span=\"24\">Input Music Name<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"20\">\n            <el-input v-model=\"musicname\" placeholder=\"Please input Music Name\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n    </div>\n    \n    <!-- <div>\n      <el-row>\n        <el-col :span=\"24\">Input Music Link<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"20\">\n            <el-input v-model=\"musiclink\" placeholder=\"Please input Music Link\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n    </div> -->\n      <!-- <el-row>\n        <el-col :span=\"24\">Input Music Performers(DiscordId)<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">\n            <el-input v-model=\"musicperformer\" placeholder=\"Please input Performers\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">Input Music Composer(DiscordId)<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">\n            <el-input v-model=\"input\" placeholder=\"Please input Composer\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">Input Music Editor(DiscordId)<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">\n            <el-input v-model=\"input\" placeholder=\"Please input Editor\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">Input Music Songwriter(DiscordId)<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">\n            <el-input v-model=\"input\" placeholder=\"Please input Songwriter\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\">Input Music Producer(DiscordId)<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row> \n      <el-row>\n        <el-col :span=\"24\">\n            <el-input v-model=\"input\" placeholder=\"Please input Producer\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>-->\n    <!-- <div>\n      <el-row>\n        <el-col :span=\"24\">Input Music Release Date<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"20\">\n            <el-input v-model=\"releasedate\" placeholder=\"Please input\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n    </div>\n    <div>\n      <el-row>\n        <el-col :span=\"24\">Input Music Lyrics<div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"20\">\n            <el-input v-model=\"musiclyrics\" placeholder=\"Please Input Lyrics\" />\n        <div class=\"grid-content ep-bg-purple-dark\" /></el-col>\n      </el-row>\n\n    </div> -->\n\n    <div>\n      <el-row>\n        <el-button type=\"Success\" round @click=\"submitresult\" >Submit</el-button>  \n      </el-row>\n    </div>\n    <div>\n      <input type=\"file\" @change=\"onFileSelected\">\n      <input type=\"file\" @change=\"onMusicFileSelected\">\n    </div>\n  </form>\n</template>\n\n<script>\nexport default{\n  data(){\n    return{\n      musicname: '',\n      validmusicname:true,\n      musiclink:'',\n      validmusiclink:true,\n      musiclyrics:'',\n      validelyrics:true,\n      musicperformer:'',\n      validmusicperformer:true,\n      releasedate:'',\n      error: null,\n    };\n  },\n  methods:{\n    submitresult(){\n      this.validmusicname = true;\n      \n\n\n    },\n    onFileSelected(event){\n            this.selectedFile = event.target.files[0]\n            console.log(this.selectedFile.name)\n        },\n    onMusicFileSelected(event){\n        this.musicfile = event.target.files[0]  //not sure 0 or 1\n        console.log(this.musicfile.name)\n    },\n    onUploadFile(){\n        const fd = new FormData();\n        fd.append('pic', this.selectedFile, this.selectedFile.name)\n        fd.append('mp3', this.musicfile, this.musicfile.name)\n        axios.post('http://127.0.0.1:1943/uploadimg',fd).then(res => {\n            console.log(res)\n        })\n    },\n\n    },\n\n};\n</script>\n\n<style lang=\"scss\">\n.el-row {\n  margin-bottom: 20px;\n}\n.el-row:last-child {\n  margin-bottom: 0;\n}\n.el-col {\n  border-radius: 4px;\n}\n\n.grid-content {\n  border-radius: 4px;\n  min-height: 36px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}